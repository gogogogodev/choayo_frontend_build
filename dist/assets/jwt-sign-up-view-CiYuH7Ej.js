import{c as S,d as I,r as P,f as k,g as F,w as B,k as e,S as r,L as c,R as f,I as T,m as E,n as L,o as N,A as v,F as A,t as q,l as d,p as U,q as C,v as n,x as M}from"./index-DL1FC2Xw.js";import{F as t}from"./fields-CF4iu1MC.js";const R=C({email:n().min(1,{message:"Email is required!"}).email({message:"Email must be a valid email address!"}),password:n().min(1,{message:"Password is required!"}).min(6,{message:"Password must be at least 6 characters!"})});function W(){const p=S(),{checkUserSession:x}=I(),[a,m]=P.useState(""),i=k(),o={email:"demo@minimals.cc",password:"@demo1"},l=F({resolver:q(R),defaultValues:o}),{handleSubmit:g,formState:{isSubmitting:j}}=l,w=g(async h=>{try{await B({email:h.email,password:h.password}),await x?.(),p.refresh()}catch(s){console.error(s),m(s instanceof Error?s.message:s)}}),b=e.jsxs(r,{spacing:1.5,sx:{mb:5},children:[e.jsx(d,{variant:"h5",children:"Sign in to your account"}),e.jsxs(r,{direction:"row",spacing:.5,children:[e.jsx(d,{variant:"body2",sx:{color:"text.secondary"},children:"Don't have an account?"}),e.jsx(c,{component:f,href:U.auth.jwt.signUp,variant:"subtitle2",children:"Get started"})]})]}),y=e.jsxs(r,{spacing:3,children:[e.jsx(t.Text,{name:"email",label:"Email address",InputLabelProps:{shrink:!0}}),e.jsxs(r,{spacing:1.5,children:[e.jsx(c,{component:f,href:"#",variant:"body2",color:"inherit",sx:{alignSelf:"flex-end"},children:"Forgot password?"}),e.jsx(t.Text,{name:"password",label:"Password",placeholder:"6+ characters",type:i.value?"text":"password",InputLabelProps:{shrink:!0},InputProps:{endAdornment:e.jsx(T,{position:"end",children:e.jsx(E,{onClick:i.onToggle,edge:"end",children:e.jsx(L,{icon:i.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}})]}),e.jsx(N,{fullWidth:!0,color:"inherit",size:"large",type:"submit",variant:"contained",loading:j,loadingIndicator:"Sign in...",children:"Sign in"})]});return e.jsxs(e.Fragment,{children:[b,e.jsxs(v,{severity:"info",sx:{mb:3},children:["Use ",e.jsx("strong",{children:o.email})," with password ",e.jsx("strong",{children:o.password})]}),!!a&&e.jsx(v,{severity:"error",sx:{mb:3},children:a}),e.jsx(A,{methods:l,onSubmit:w,children:y})]})}const V=C({firstName:n().min(1,{message:"First name is required!"}),lastName:n().min(1,{message:"Last name is required!"}),email:n().min(1,{message:"Email is required!"}).email({message:"Email must be a valid email address!"}),password:n().min(1,{message:"Password is required!"}).min(6,{message:"Password must be at least 6 characters!"})});function z(){const{checkUserSession:p}=I(),x=S(),a=k(),[m,i]=P.useState(""),o={firstName:"Hello",lastName:"Friend",email:"hello@gmail.com",password:"@demo1"},l=F({resolver:q(V),defaultValues:o}),{handleSubmit:g,formState:{isSubmitting:j}}=l,w=g(async s=>{try{await M({email:s.email,password:s.password,firstName:s.firstName,lastName:s.lastName}),await p?.(),x.refresh()}catch(u){console.error(u),i(u instanceof Error?u.message:u)}}),b=e.jsxs(r,{spacing:1.5,sx:{mb:5},children:[e.jsx(d,{variant:"h5",children:"Get started absolutely free"}),e.jsxs(r,{direction:"row",spacing:.5,children:[e.jsx(d,{variant:"body2",sx:{color:"text.secondary"},children:"Already have an account?"}),e.jsx(c,{component:f,href:U.auth.jwt.signIn,variant:"subtitle2",children:"Sign in"})]})]}),y=e.jsxs(r,{spacing:3,children:[e.jsxs(r,{direction:{xs:"column",sm:"row"},spacing:2,children:[e.jsx(t.Text,{name:"firstName",label:"First name",InputLabelProps:{shrink:!0}}),e.jsx(t.Text,{name:"lastName",label:"Last name",InputLabelProps:{shrink:!0}})]}),e.jsx(t.Text,{name:"email",label:"Email address",InputLabelProps:{shrink:!0}}),e.jsx(t.Text,{name:"password",label:"Password",placeholder:"6+ characters",type:a.value?"text":"password",InputLabelProps:{shrink:!0},InputProps:{endAdornment:e.jsx(T,{position:"end",children:e.jsx(E,{onClick:a.onToggle,edge:"end",children:e.jsx(L,{icon:a.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),e.jsx(N,{fullWidth:!0,color:"inherit",size:"large",type:"submit",variant:"contained",loading:j,loadingIndicator:"Create account...",children:"Create account"})]}),h=e.jsxs(d,{component:"div",sx:{mt:3,textAlign:"center",typography:"caption",color:"text.secondary"},children:["By signing up, I agree to ",e.jsx(c,{underline:"always",color:"text.primary",children:"Terms of service"})," and ",e.jsx(c,{underline:"always",color:"text.primary",children:"Privacy policy"}),"."]});return e.jsxs(e.Fragment,{children:[b,!!m&&e.jsx(v,{severity:"error",sx:{mb:3},children:m}),e.jsx(A,{methods:l,onSubmit:w,children:y}),h]})}export{W as J,z as a};
