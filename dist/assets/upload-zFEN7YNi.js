import{k as e,bH as I,bI as s,bJ as U,aw as a,l as k,m as A,n as u,aP as B,S,ag as g}from"./index-DL1FC2Xw.js";import{u as E}from"./index-Buzb-ijE.js";import{U as M}from"./placeholder-CUueKP83.js";import{a as H}from"./format-number-CnUv9gu0.js";import{M as L}from"./preview-multi-file-IiDRFFAI.js";function J({files:r}){return r.length?e.jsx(I,{variant:"outlined",sx:{py:1,px:2,mt:3,textAlign:"left",borderStyle:"dashed",borderColor:"error.main",bgcolor:t=>s(t.vars.palette.error.mainChannel,.08)},children:r.map(({file:t,errors:o})=>{const{path:l,size:c}=U(t);return e.jsxs(a,{sx:{my:1},children:[e.jsxs(k,{variant:"subtitle2",noWrap:!0,children:[l," - ",c?H(c):""]}),o.map(i=>e.jsxs(a,{component:"span",sx:{typography:"caption"},children:["- ",i.message]},i.code))]},l)})}):null}function N({file:r}){const t=typeof r=="string"?r:r.name,o=typeof r=="string"?r:URL.createObjectURL(r);return e.jsx(a,{sx:{p:1,top:0,left:0,width:1,height:1,position:"absolute"},children:e.jsx(a,{component:"img",alt:t,src:o,sx:{width:1,height:1,borderRadius:1,objectFit:"cover"}})})}function O({sx:r,...t}){return e.jsx(A,{size:"small",sx:{top:16,right:16,zIndex:9,position:"absolute",color:o=>s(o.vars.palette.common.whiteChannel,.8),bgcolor:o=>s(o.vars.palette.grey["900Channel"],.72),"&:hover":{bgcolor:o=>s(o.vars.palette.grey["900Channel"],.48)},...r},...t,children:e.jsx(u,{icon:"mingcute:close-line",width:18})})}function K({sx:r,value:t,error:o,disabled:l,onDelete:c,onUpload:i,onRemove:j,thumbnail:y,helperText:h,onRemoveAll:p,multiple:x=!1,...f}){const{getRootProps:v,getInputProps:b,isDragActive:C,isDragReject:w,fileRejections:R}=E({multiple:x,disabled:l,...f}),F=Array.from(R),m=Array.isArray(t)&&x,d=!m&&!!t,P=m&&!!t.length,z=w||!!o,D=P&&e.jsxs(e.Fragment,{children:[e.jsx(L,{files:t,thumbnail:y,onRemove:j,sx:{my:3}}),(p||i)&&e.jsxs(S,{direction:"row",justifyContent:"flex-end",spacing:1.5,children:[p&&e.jsx(g,{color:"inherit",variant:"outlined",size:"small",onClick:p,children:"Remove all"}),i&&e.jsx(g,{size:"small",variant:"contained",onClick:i,startIcon:e.jsx(u,{icon:"eva:cloud-upload-fill"}),children:"Upload"})]})]});return e.jsxs(a,{sx:{width:1,position:"relative",...r},children:[e.jsxs(a,{...v(),sx:{p:5,outline:"none",borderRadius:1,cursor:"pointer",overflow:"hidden",position:"relative",bgcolor:n=>s(n.vars.palette.grey["500Channel"],.08),border:n=>`1px dashed ${s(n.vars.palette.grey["500Channel"],.2)}`,transition:n=>n.transitions.create(["opacity","padding"]),"&:hover":{opacity:.72},...C&&{opacity:.72},...l&&{opacity:.48,pointerEvents:"none"},...z&&{color:"error.main",borderColor:"error.main",bgcolor:n=>s(n.vars.palette.error.mainChannel,.08)},...d&&{padding:"28% 0"}},children:[e.jsx("input",{...b()}),d?e.jsx(N,{file:t}):e.jsx(M,{})]}),d&&e.jsx(O,{onClick:c}),h&&e.jsx(B,{error:!!o,sx:{px:2},children:h}),e.jsx(J,{files:F}),D]})}export{J as R,K as U};
