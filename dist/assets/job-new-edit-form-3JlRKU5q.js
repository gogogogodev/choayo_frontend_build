import{c as I,r as o,fW as u,g as N,t as B,q as g,dC as D,p as L,k as e,as as j,S as i,l,g9 as A,ga as F,gb as q,bC as y,gc as H,aN as R,aw as x,n as b,bH as W,c3 as M,I as z,gd as G,F as K,v as n,d_ as U,dZ as X,aX as Y,o as V}from"./index-DL1FC2Xw.js";import{F as r}from"./fields-CF4iu1MC.js";import{s as f}from"./schema-helper-CLblsXWr.js";import{C}from"./Card-x9v4l8Wx.js";import{C as S}from"./CardHeader-bsWkR9QZ.js";import{F as Z}from"./FormControlLabel-RF8C1zCS.js";const $=g({title:n().min(1,{message:"Title is required!"}),content:n().min(1,{message:"Content is required!"}),employmentTypes:n().array().nonempty({message:"Choose at least one option!"}),role:f.objectOrNull({message:{required_error:"Role is required!"}}),skills:n().array().nonempty({message:"Choose at least one option!"}),workingSchedule:n().array().nonempty({message:"Choose at least one option!"}),locations:n().array().nonempty({message:"Choose at least one option!"}),expiredDate:f.date({message:{required_error:"Expired date is required!"}}),salary:g({price:X().min(1,{message:"Price is required!"}),type:n(),negotiable:U()}),benefits:n().array().nonempty({message:"Choose at least one option!"}),experience:n()});function ie({currentJob:t}){const T=I(),p=o.useMemo(()=>({title:t?.title||"",content:t?.content||"",employmentTypes:t?.employmentTypes||[],experience:t?.experience||"1 year exp",role:t?.role||u[1],skills:t?.skills||[],workingSchedule:t?.workingSchedule||[],locations:t?.locations||[],expiredDate:t?.expiredDate||null,salary:t?.salary||{type:"Hourly",price:0,negotiable:!1},benefits:t?.benefits||[]}),[t]),h=N({mode:"all",resolver:B($),defaultValues:p}),{reset:d,control:E,handleSubmit:O,formState:{isSubmitting:k}}=h;o.useEffect(()=>{t&&d(p)},[t,p,d]);const v=O(async s=>{try{await new Promise(a=>setTimeout(a,500)),d(),D.success(t?"Update success!":"Create success!"),T.push(L.dashboard.job.root),console.info("DATA",s)}catch(a){console.error(a)}}),w=e.jsxs(C,{children:[e.jsx(S,{title:"Details",subheader:"Title, short description, image...",sx:{mb:3}}),e.jsx(j,{}),e.jsxs(i,{spacing:3,sx:{p:3},children:[e.jsxs(i,{spacing:1.5,children:[e.jsx(l,{variant:"subtitle2",children:"Title"}),e.jsx(r.Text,{name:"title",placeholder:"Ex: Software Engineer..."})]}),e.jsxs(i,{spacing:1.5,children:[e.jsx(l,{variant:"subtitle2",children:"Content"}),e.jsx(r.Editor,{name:"content",sx:{maxHeight:480}})]})]})]}),P=e.jsxs(C,{children:[e.jsx(S,{title:"Properties",subheader:"Additional functions and attributes...",sx:{mb:3}}),e.jsx(j,{}),e.jsxs(i,{spacing:3,sx:{p:3},children:[e.jsxs(i,{spacing:1,children:[e.jsx(l,{variant:"subtitle2",children:"Employment type"}),e.jsx(r.MultiCheckbox,{row:!0,name:"employmentTypes",options:A,sx:{gap:4}})]}),e.jsxs(i,{spacing:1,children:[e.jsx(l,{variant:"subtitle2",children:"Experience"}),e.jsx(r.RadioGroup,{row:!0,name:"experience",options:F,sx:{gap:4}})]}),e.jsxs(i,{spacing:1.5,children:[e.jsx(l,{variant:"subtitle2",children:"Role"}),e.jsx(r.Autocomplete,{name:"role",autoHighlight:!0,options:u.map(s=>s),getOptionLabel:s=>s,renderOption:(s,a)=>o.createElement("li",{...s,key:a},a)})]}),e.jsxs(i,{spacing:1.5,children:[e.jsx(l,{variant:"subtitle2",children:"Skills"}),e.jsx(r.Autocomplete,{name:"skills",placeholder:"+ Skills",multiple:!0,disableCloseOnSelect:!0,options:q.map(s=>s),getOptionLabel:s=>s,renderOption:(s,a)=>o.createElement("li",{...s,key:a},a),renderTags:(s,a)=>s.map((c,m)=>o.createElement(y,{...a({index:m}),key:c,label:c,size:"small",color:"info",variant:"soft"}))})]}),e.jsxs(i,{spacing:1.5,children:[e.jsx(l,{variant:"subtitle2",children:"Working schedule"}),e.jsx(r.Autocomplete,{name:"workingSchedule",placeholder:"+ Schedule",multiple:!0,disableCloseOnSelect:!0,options:H.map(s=>s),getOptionLabel:s=>s,renderOption:(s,a)=>o.createElement("li",{...s,key:a},a),renderTags:(s,a)=>s.map((c,m)=>o.createElement(y,{...a({index:m}),key:c,label:c,size:"small",color:"info",variant:"soft"}))})]}),e.jsxs(i,{spacing:1.5,children:[e.jsx(l,{variant:"subtitle2",children:"Locations"}),e.jsx(r.CountrySelect,{multiple:!0,name:"locations",placeholder:"+ Locations"})]}),e.jsxs(i,{spacing:1.5,children:[e.jsx(l,{variant:"subtitle2",children:"Expired"}),e.jsx(r.DatePicker,{name:"expiredDate"})]}),e.jsxs(i,{spacing:2,children:[e.jsx(l,{variant:"subtitle2",children:"Salary"}),e.jsx(R,{name:"salary.type",control:E,render:({field:s})=>e.jsx(x,{gap:2,display:"grid",gridTemplateColumns:"repeat(2, 1fr)",children:[{label:"Hourly",icon:e.jsx(b,{icon:"solar:clock-circle-bold",width:32,sx:{mb:2}})},{label:"Custom",icon:e.jsx(b,{icon:"solar:wad-of-money-bold",width:32,sx:{mb:2}})}].map(a=>e.jsxs(W,{component:M,variant:"outlined",onClick:()=>s.onChange(a.label),sx:{p:2.5,borderRadius:1,typography:"subtitle2",flexDirection:"column",...a.label===s.value&&{borderWidth:2,borderColor:"text.primary"}},children:[a.icon,a.label]},a.label))})}),e.jsx(r.Text,{name:"salary.price",placeholder:"0.00",type:"number",InputProps:{startAdornment:e.jsx(z,{position:"start",children:e.jsx(x,{sx:{typography:"subtitle2",color:"text.disabled"},children:"$"})})}}),e.jsx(r.Switch,{name:"salary.negotiable",label:"Salary is negotiable"})]}),e.jsxs(i,{spacing:1,children:[e.jsx(l,{variant:"subtitle2",children:"Benefits"}),e.jsx(r.MultiCheckbox,{name:"benefits",options:G,sx:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)"}})]})]})]}),_=e.jsxs(x,{display:"flex",alignItems:"center",flexWrap:"wrap",children:[e.jsx(Z,{control:e.jsx(Y,{defaultChecked:!0,inputProps:{id:"publish-switch"}}),label:"Publish",sx:{flexGrow:1,pl:3}}),e.jsx(V,{type:"submit",variant:"contained",size:"large",loading:k,sx:{ml:2},children:t?"Save changes":"Create job"})]});return e.jsx(K,{methods:h,onSubmit:v,children:e.jsxs(i,{spacing:{xs:3,md:5},sx:{mx:"auto",maxWidth:{xs:720,xl:880}},children:[w,P,_]})})}export{ie as J};
