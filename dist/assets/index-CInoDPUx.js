import{q as P,dZ as b,v as c,fI as T,fv as A,u as U,aM as I,k as e,gm as M,S as f,h1 as V,bI as S,r as C,c3 as E,n as v,fs as _,bJ as k,f as B,g as G,fC as z,t as J,gv as $,fj as L,F as W,aw as j,I as O,m as F,cc as R,as as N,o as Z,l as q,p as X,aX as Y,H as K,C as Q}from"./index-DL1FC2Xw.js";import{C as ee}from"./custom-breadcrumbs-nJImJlyu.js";import{F as s}from"./fields-CF4iu1MC.js";import{s as u}from"./schema-helper-CLblsXWr.js";import{C as le}from"./component-hero-BkcKDfuo.js";import{C as se}from"./component-block-4vZoPPTX.js";import{F as te}from"./FormControlLabel-RF8C1zCS.js";import"./Rating-B4A3Yvck.js";import"./visuallyHidden-Dan1xhjv.js";import"./Slider-CeFV86ab.js";import"./rhf-radio-group-c3xmrwMe.js";import"./RadioGroup-DjJiUtpj.js";import"./FormGroup-dr7_GDnD.js";import"./country-select-C_VDc9o1.js";import"./rhf-switch-D1cE4SqJ.js";import"./rhf-checkbox-DHrzNFCH.js";import"./rhf-upload-CDPkY_M8.js";import"./upload-zFEN7YNi.js";import"./index-Buzb-ijE.js";import"./placeholder-CUueKP83.js";import"./format-number-CnUv9gu0.js";import"./preview-multi-file-IiDRFFAI.js";import"./upload-avatar-DX55zYUp.js";import"./rhf-date-picker-CcRSy6lj.js";import"./DatePicker-x3rEWLr9.js";import"./ListItem-ByRhTH_M.js";import"./MobileDateTimePicker-DRzd3izO.js";const ae=P({fullName:c().min(1,{message:"Full name is required!"}).min(6,{message:"Mininum 6 characters!"}).max(32,{message:"Maximum 32 characters!"}),email:c().min(1,{message:"Email is required!"}).email({message:"Email must be a valid email address!"}),phoneNumber:u.phoneNumber({isValidPhoneNumber:T}),editor:u.editor().min(100,{message:"Content must be at least 100 characters"}).max(200,{message:"Content must be less than 200 characters"}),age:b().min(1,{message:"Age is required!"}).min(18,{message:"Age must be between 18 and 100"}).max(100,{message:"Age must be between 18 and 100"}),startDate:u.date({message:{required_error:"Start date is required!"}}),endDate:u.date({message:{required_error:"End date is required!"}}),password:c().min(1,{message:"Password is required!"}).min(6,{message:"Password is too short!"}),confirmPassword:c().min(1,{message:"Confirm password is required!"}),autocomplete:u.objectOrNull({message:{required_error:"Autocomplete is required!"}}),singleCountry:u.objectOrNull({message:{required_error:"Single country is required!"}}),multiCountry:c().array().min(2,{message:"Must have at least 2 items!"}),singleSelect:c().min(1,{message:"Single select is required!"}),multiSelect:c().array().min(2,{message:"Must have at least 2 items!"}),rating:b().min(1,{message:"Rating is required!"}),radioGroup:c().min(1,{message:"Choose at least one option!"}),checkbox:u.boolean({message:{required_error:"Checkbox is required!"}}),switch:u.boolean({message:{required_error:"Switch is required!"}}),multiCheckbox:c().array().nonempty({message:"Choose at least one option!"}),multiSwitch:c().array().nonempty({message:"Choose at least one option!"}),slider:b().min(10,{message:"Mininum value is >= 10"}),sliderRange:b().array().refine(l=>l[0]>=20&&l[1]<=80,{message:"Range must be between 20 and 80"}),singleUpload:u.file({message:{required_error:"Single upload is required!"}}),multiUpload:u.files({message:{required_error:"Multi upload is required!"}})}).refine(l=>l.password===l.confirmPassword,{message:"Passwords do not match!",path:["confirmPassword"]}).refine(l=>!A(l.startDate,l.endDate),{message:"End date cannot be earlier than start date!",path:["endDate"]}),p={item:"item",key:"item__key",value:"item__value"};function ie({sx:l}){const t=U(),{watch:r,formState:i}=I(),x=r(),n=Object.keys(x).length,y=Object.keys(i.errors).length;return e.jsx(M,{children:e.jsxs(f,{sx:{...V({color:S(t.vars.palette.grey["900Channel"],.9)}),top:0,right:0,height:1,width:320,position:"fixed",overflowY:"auto",color:"common.white",zIndex:t.zIndex.drawer,...l},children:[e.jsx(h,{label:"State",sx:{color:"success.light"},children:["submitCount","isDirty","isValid","disabled","isLoading","isSubmitted","isSubmitting","isValidating","isSubmitSuccessful"].map(m=>e.jsxs("div",{className:p.item,children:[e.jsx("span",{className:p.key,children:m}),e.jsx("span",{className:p.value,children:JSON.stringify(i[m],null,2)})]},m))}),e.jsx(h,{label:`Values (${n})`,sx:{color:"warning.light"},children:Object.keys(x).map(m=>e.jsxs("div",{className:p.item,children:[e.jsx("span",{className:p.key,children:m}),e.jsx("span",{className:p.value,children:oe(x,m)})]},m))}),e.jsx(h,{label:`Errors (${y})`,sx:{color:"error.light"},children:JSON.stringify(Object.keys(i.errors),null,2)}),e.jsx(h,{label:"Dirty fields",sx:{color:"info.light"},children:JSON.stringify(Object.keys(i.dirtyFields),null,2)}),e.jsx(h,{label:"Touched fields",sx:{color:"info.light"},children:JSON.stringify(Object.keys(i.touchedFields),null,2)})]})})}function h({label:l,children:t,sx:r}){const[i,x]=C.useState(!0);return e.jsxs(f,{sx:{borderBottom:n=>`solid 1px ${n.vars.palette.divider}`,...r},children:[e.jsxs(E,{onClick:()=>x(!i),sx:{p:1.5,typography:"overline",justifyContent:"space-between",...i&&{bgcolor:"action.hover"}},children:[l,e.jsx(v,{width:16,icon:"eva:arrow-ios-downward-fill"})]}),e.jsx(_,{in:i,children:e.jsx(f,{spacing:.25,sx:{p:1,typography:"caption",[`& .${p.item}`]:{display:"inline-flex",alignItems:"flex-start"},[`& .${p.key}`]:{px:.5,color:"common.white",bgcolor:n=>S(n.vars.palette.common.blackChannel,.4)},[`& .${p.value}`]:{flex:"1 1 auto",textAlign:"right",bgcolor:n=>S(n.vars.palette.common.blackChannel,.2)}},children:t})})]})}function oe(l,t){return t==="singleUpload"?JSON.stringify(l.singleUpload&&k(l.singleUpload),null,2):t==="multiUpload"?JSON.stringify(l.multiUpload.map(r=>k(r)),null,2):JSON.stringify(l[t],null,2)||"---"}const w=[{value:"option 1",label:"Option 1"},{value:"option 2",label:"Option 2"},{value:"option 3",label:"Option 3"},{value:"option 4",label:"Option 4"},{value:"option 5",label:"Option 5"},{value:"option 6",label:"Option 6"},{value:"option 7",label:"Option 7"},{value:"option 8",label:"Option 8"}],re={age:0,email:"",fullName:"",phoneNumber:"",editor:"",autocomplete:{},password:"",confirmPassword:"",startDate:z(),endDate:null,singleUpload:"",multiUpload:[],singleSelect:"",multiSelect:[],singleCountry:"",multiCountry:[],rating:0,radioGroup:"",switch:!1,multiSwitch:[],checkbox:!1,multiCheckbox:[],slider:8,sliderRange:[15,80]};function ne({debug:l}){const t=B(),r=G({resolver:J(ae),defaultValues:re}),{watch:i,reset:x,setValue:n,handleSubmit:y,formState:{isSubmitting:m}}=r,H=i(),D=y(async o=>{try{await new Promise(d=>setTimeout(d,3e3)),x(),console.info("DATA",o)}catch(d){console.error(d)}});return e.jsxs(e.Fragment,{children:[m&&e.jsx($,{open:!0,sx:{zIndex:o=>o.zIndex.modal+1},children:e.jsx(L,{color:"primary"})}),e.jsxs(W,{methods:r,onSubmit:D,children:[l&&e.jsx(ie,{sx:{display:{xs:"none",lg:"block"}}}),e.jsxs(j,{gap:5,display:"flex",alignItems:"flex-start",flexDirection:{xs:"column",md:"row"},sx:{width:1,...l&&{pr:{lg:"320px"}}},children:[e.jsxs(j,{gap:3,display:"flex",flex:"1 0 auto",flexDirection:"column",sx:{width:{xs:1,md:.5}},children:[e.jsxs(g,{children:[e.jsx(a,{children:e.jsx(s.Text,{name:"fullName",label:"Full name",helperText:"Helper text"})}),e.jsx(a,{children:e.jsx(s.Text,{name:"email",label:"Email address"})})]}),e.jsxs(g,{children:[e.jsx(a,{label:"RHFPhone",children:e.jsx(s.Phone,{name:"phoneNumber",label:"Phone number"})}),e.jsx(a,{children:e.jsx(s.Text,{name:"age",label:"Age",type:"number"})})]}),e.jsxs(g,{children:[e.jsx(s.DatePicker,{name:"startDate",label:"Start date"}),e.jsx(s.DatePicker,{name:"endDate",label:"End date"})]}),e.jsxs(g,{children:[e.jsx(a,{children:e.jsx(s.Text,{name:"password",label:"Password",type:t.value?"text":"password",InputProps:{endAdornment:e.jsx(O,{position:"end",children:e.jsx(F,{onClick:t.onToggle,edge:"end",children:e.jsx(v,{icon:t.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}})}),e.jsx(a,{children:e.jsx(s.Text,{name:"confirmPassword",label:"Confirm password",type:t.value?"text":"password",InputProps:{endAdornment:e.jsx(O,{position:"end",children:e.jsx(F,{onClick:t.onToggle,edge:"end",children:e.jsx(v,{icon:t.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}})})]}),e.jsx(a,{label:"RHFAutocomplete",children:e.jsx(s.Autocomplete,{name:"autocomplete",label:"Autocomplete",options:w,getOptionLabel:o=>o.label,isOptionEqualToValue:(o,d)=>o.value===d.value,renderOption:(o,d)=>C.createElement("li",{...o,key:d.value},d.label)})}),e.jsx(a,{label:"RHFAutocomplete",children:e.jsx(s.CountrySelect,{fullWidth:!0,name:"singleCountry",label:"Single country",placeholder:"Choose a country"})}),e.jsx(a,{label:"RHFAutocomplete",children:e.jsx(s.CountrySelect,{multiple:!0,fullWidth:!0,limitTags:3,name:"multiCountry",label:"Multi country",placeholder:"Choose a country",helperText:"Helper text"})}),e.jsxs(g,{children:[e.jsx(a,{label:"RHFSelect",children:e.jsxs(s.Select,{name:"singleSelect",label:"Single select",children:[e.jsx(R,{value:"",children:"None"}),e.jsx(N,{sx:{borderStyle:"dashed"}}),w.map(o=>e.jsx(R,{value:o.label,children:o.label},o.value))]})}),e.jsx(a,{label:"RHFMultiSelect",children:e.jsx(s.MultiSelect,{chip:!0,checkbox:!0,name:"multiSelect",label:"Multi select",options:w})})]}),e.jsx(a,{label:"RHFEditor",children:e.jsx(s.Editor,{fullItem:!0,name:"editor",sx:{maxHeight:480}})})]}),e.jsxs(j,{gap:3,display:"flex",flex:"1 0 auto",flexDirection:"column",sx:{width:{xs:1,md:.5}},children:[e.jsx(a,{label:"RHFUpload",children:e.jsx(s.Upload,{name:"singleUpload",maxSize:3145728,onDelete:()=>n("singleUpload",null,{shouldValidate:!0})})}),e.jsx(a,{label:"RHFUpload",children:e.jsx(s.Upload,{multiple:!0,thumbnail:!0,name:"multiUpload",maxSize:3145728,onRemove:o=>n("multiUpload",H.multiUpload.filter(d=>d!==o),{shouldValidate:!0}),onRemoveAll:()=>n("multiUpload",[],{shouldValidate:!0}),onUpload:()=>console.info("ON UPLOAD")})}),e.jsx(s.Rating,{name:"rating"}),e.jsx(s.Checkbox,{name:"checkbox",label:"RHFCheckbox"}),e.jsx(s.Switch,{name:"switch",label:"RHFSwitch"}),e.jsx(s.RadioGroup,{row:!0,name:"radioGroup",label:"RHFRadioGroup",options:[{label:"Option 1",value:"radio-1"},{label:"Option 2",value:"radio-2"},{label:"Option 3",value:"radio-3"}],sx:{gap:4}}),e.jsx(s.MultiCheckbox,{row:!0,name:"multiCheckbox",label:"RHFMultiCheckbox",options:[{label:"Option 1",value:"checkbox-1"},{label:"Option 2",value:"checkbox-2"},{label:"Option 3",value:"checkbox-3"}],sx:{gap:4}}),e.jsx(s.MultiSwitch,{name:"multiSwitch",label:"RHFMultiSwitch",options:[{label:"Option 1",value:"switch-1"},{label:"Option 2",value:"switch-2"},{label:"Option 3",value:"switch-3"}]}),e.jsx(a,{label:"RHFSlider",children:e.jsx(s.Slider,{name:"slider"})}),e.jsx(a,{label:"RHFSlider",children:e.jsx(s.Slider,{name:"sliderRange"})}),e.jsx(Z,{fullWidth:!0,color:"info",size:"large",type:"submit",variant:"soft",loading:m,children:"Submit to check"})]})]})]})]})}function a({sx:l,children:t,label:r="RHFTextField"}){return e.jsxs(f,{spacing:1,sx:{width:1,...l},children:[e.jsx(q,{variant:"caption",sx:{textAlign:"right",fontStyle:"italic",color:"text.disabled",fontSize:i=>i.typography.pxToRem(10)},children:r}),t]})}function g({children:l,sx:t,...r}){return e.jsx(j,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(2, 1fr)"},sx:{...t},...r,children:l})}function me(){const[l,t]=C.useState(!0),r=i=>{t(i.target.checked)};return e.jsxs(e.Fragment,{children:[e.jsx(le,{children:e.jsx(ee,{heading:"Form validation",links:[{name:"Components",href:X.components},{name:"Form validation"}],moreLink:["https://react-hook-form.com","https://zod.dev"]})}),e.jsxs(se,{maxWidth:"xl",sx:{position:"relative"},children:[e.jsx(q,{variant:"h4",children:" React hook form + Zod "}),e.jsx(te,{control:e.jsx(Y,{name:"switch-debug",checked:l,onChange:r}),label:"Show Debug",sx:{alignSelf:"flex-start"}}),e.jsx(N,{sx:{my:5}}),e.jsx(ne,{debug:l})]})]})}const de={title:`Form validation | Components - ${Q.site.name}`};function Me(){return e.jsxs(e.Fragment,{children:[e.jsx(K,{children:e.jsxs("title",{children:[" ",de.title]})}),e.jsx(me,{})]})}export{Me as default};
