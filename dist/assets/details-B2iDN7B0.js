import{k as e,aF as b,S as i,aL as pe,ci as me,aI as ue,n as d,l as x,aw as j,c3 as O,f as je,dt as ge,da as be,ag as w,as as L,c as ye,g as fe,r as y,p as v,cc as Q,dQ as ve,L as C,aC as W,F as we,aN as Ce,cP as Ie,R as I,dg as $,m as M,o as ke,cQ as Pe,cd as Se,bK as Re,aE as T,dR as Te,ca as Le,bI as De,c9 as Be,H as Ae,C as Fe}from"./index-DL1FC2Xw.js";import{u as qe}from"./use-params-Ck7vsunK.js";import{u as ze}from"./product-VrR4OnKG.js";import{P as Ee,I as Ge}from"./incrementer-button-BQVpjfsb.js";import{a as Oe}from"./color-preview-dB99BTtB.js";import{u as We}from"./use-tabs-BXz7XyLY.js";import{E as $e}from"./empty-content-Cjr2GcXL.js";import{S as u}from"./Skeleton-M-yixhCy.js";import{c as D,f as N}from"./format-number-CnUv9gu0.js";import{R as B}from"./Rating-B4A3Yvck.js";import{P as Me,p as Ne}from"./Pagination-BhlVSDxW.js";import{F as Qe}from"./fields-CF4iu1MC.js";import{u as Ue,L as He}from"./use-light-box-DKt7Lv7V.js";import{C as Ve,a as _e,b as Ye}from"./carousel-progress-bar-CpKh2Fk3.js";import{u as Ke}from"./use-carousel-rTqNu3Zp.js";import{b as Je}from"./carousel-arrow-buttons-Bwid0ftg.js";import{M as Xe}from"./markdown-CHRWPvcH.js";import{C as Ze}from"./Card-x9v4l8Wx.js";import"./html-to-markdown-C60JWNql.js";import"./index-DCopXJUS.js";import"./index-CYenwyVg.js";import"./schema-helper-CLblsXWr.js";import"./CardHeader-bsWkR9QZ.js";import"./FormControlLabel-RF8C1zCS.js";import"./visuallyHidden-Dan1xhjv.js";import"./LastPage-CNSkhtZT.js";import"./Slider-CeFV86ab.js";import"./rhf-radio-group-c3xmrwMe.js";import"./RadioGroup-DjJiUtpj.js";import"./FormGroup-dr7_GDnD.js";import"./country-select-C_VDc9o1.js";import"./rhf-switch-D1cE4SqJ.js";import"./rhf-checkbox-DHrzNFCH.js";import"./rhf-upload-CDPkY_M8.js";import"./upload-zFEN7YNi.js";import"./index-Buzb-ijE.js";import"./placeholder-CUueKP83.js";import"./preview-multi-file-IiDRFFAI.js";import"./upload-avatar-DX55zYUp.js";import"./rhf-date-picker-CcRSy6lj.js";import"./DatePicker-x3rEWLr9.js";import"./ListItem-ByRhTH_M.js";import"./MobileDateTimePicker-DRzd3izO.js";function es({...s}){return e.jsxs(b,{container:!0,spacing:8,...s,children:[e.jsx(b,{xs:12,md:6,lg:7,children:e.jsx(u,{sx:{pt:"100%"}})}),e.jsx(b,{xs:12,md:6,lg:5,children:e.jsxs(i,{spacing:3,children:[e.jsx(u,{sx:{height:16,width:48}}),e.jsx(u,{sx:{height:16,width:80}}),e.jsx(u,{sx:{height:16,width:.5}}),e.jsx(u,{sx:{height:16,width:.75}}),e.jsx(u,{sx:{height:120}})]})}),e.jsx(b,{xs:12,children:e.jsx(i,{direction:"row",alignItems:"center",children:[...Array(3)].map((t,o)=>e.jsxs(i,{spacing:2,alignItems:"center",justifyContent:"center",sx:{width:1},children:[e.jsx(u,{variant:"circular",sx:{width:80,height:80}}),e.jsx(u,{sx:{height:16,width:160}}),e.jsx(u,{sx:{height:16,width:80}})]},o))})})]})}function ss({review:s}){const t=e.jsxs(i,{spacing:2,alignItems:"center",direction:{xs:"row",md:"column"},sx:{width:{md:240},textAlign:{md:"center"}},children:[e.jsx(pe,{src:s.avatarUrl,sx:{width:{xs:48,md:64},height:{xs:48,md:64}}}),e.jsx(me,{primary:s.name,secondary:ue(s.postedAt),primaryTypographyProps:{noWrap:!0,typography:"subtitle2",mb:.5},secondaryTypographyProps:{noWrap:!0,typography:"caption",component:"span"}})]}),o=e.jsxs(i,{spacing:1,flexGrow:1,children:[e.jsx(B,{size:"small",value:s.rating,precision:.1,readOnly:!0}),s.isPurchased&&e.jsxs(i,{direction:"row",alignItems:"center",sx:{color:"success.main",typography:"caption"},children:[e.jsx(d,{icon:"ic:round-verified",width:16,sx:{mr:.5}}),"Verified purchase"]}),e.jsx(x,{variant:"body2",children:s.comment}),!!s.attachments?.length&&e.jsx(i,{direction:"row",flexWrap:"wrap",spacing:1,sx:{pt:1},children:s.attachments.map(r=>e.jsx(j,{component:"img",alt:r,src:r,sx:{width:64,height:64,borderRadius:1.5}},r))}),e.jsxs(i,{direction:"row",spacing:2,sx:{pt:1.5},children:[e.jsxs(O,{disableRipple:!0,sx:{gap:.5,typography:"caption"},children:[e.jsx(d,{icon:"solar:like-outline",width:16}),"123"]}),e.jsxs(O,{disableRipple:!0,sx:{gap:.5,typography:"caption"},children:[e.jsx(d,{icon:"solar:dislike-outline",width:16}),"34"]})]})]});return e.jsxs(i,{spacing:2,direction:{xs:"column",md:"row"},sx:{mt:5,px:{xs:2.5,md:0}},children:[t,o]})}function ts({reviews:s}){return e.jsxs(e.Fragment,{children:[s.map(t=>e.jsx(ss,{review:t},t.id)),e.jsx(Me,{count:10,sx:{mx:"auto",[`& .${Ne.ul}`]:{my:5,mx:"auto",justifyContent:"center"}}})]})}function rs({totalRatings:s,totalReviews:t,ratings:o=[],reviews:r=[]}){const n=je(),h=ge(o,l=>l.starCount),g=e.jsxs(i,{spacing:1,alignItems:"center",justifyContent:"center",children:[e.jsx(x,{variant:"subtitle2",children:"Average rating"}),e.jsxs(x,{variant:"h2",children:[s,"/5"]}),e.jsx(B,{readOnly:!0,value:s,precision:.1}),e.jsxs(x,{variant:"caption",sx:{color:"text.secondary"},children:["(",D(t)," reviews)"]})]}),a=e.jsx(i,{spacing:1.5,sx:{py:5,px:{xs:3,md:5},borderLeft:l=>({md:`dashed 1px ${l.vars.palette.divider}`}),borderRight:l=>({md:`dashed 1px ${l.vars.palette.divider}`})},children:o.slice(0).reverse().map(l=>e.jsxs(i,{direction:"row",alignItems:"center",children:[e.jsx(x,{variant:"subtitle2",component:"span",sx:{width:42},children:l.name}),e.jsx(be,{color:"inherit",variant:"determinate",value:l.starCount/h*100,sx:{mx:2,flexGrow:1}}),e.jsx(x,{variant:"body2",component:"span",sx:{minWidth:48,color:"text.secondary"},children:D(l.reviewCount)})]},l.name))}),m=e.jsx(i,{alignItems:"center",justifyContent:"center",children:e.jsx(w,{size:"large",variant:"soft",color:"inherit",onClick:n.onTrue,startIcon:e.jsx(d,{icon:"solar:pen-bold"}),children:"Write your review"})});return e.jsxs(e.Fragment,{children:[e.jsxs(j,{display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(3, 1fr)"},sx:{py:{xs:5,md:0}},children:[g,a,m]}),e.jsx(L,{sx:{borderStyle:"dashed"}}),e.jsx(ts,{reviews:r}),e.jsx(Ee,{open:n.value,onClose:n.onFalse})]})}function is({items:s,product:t,onAddCart:o,onGotoStep:r,disableActions:n,...h}){const g=ye(),{id:a,name:m,sizes:l,price:A,coverUrl:U,colors:F,newLabel:k,available:f,priceSale:q,saleLabel:P,totalRatings:H,totalReviews:V,inventoryType:S,subDescription:_}=t,Y=!!s?.length&&s.map(c=>c.id).includes(a),K=!!s?.length&&s.filter(c=>c.id===a).map(c=>c.quantity)[0]>=f,z={id:a,name:m,coverUrl:U,available:f,price:A,colors:F[0],size:l[4],quantity:f<1?0:1},E=fe({defaultValues:z}),{reset:J,watch:X,control:Z,setValue:G,handleSubmit:ee}=E,p=X();y.useEffect(()=>{t&&J(z)},[t]);const se=ee(async c=>{try{Y||o?.({...c,colors:[p.colors],subtotal:c.price*c.quantity}),r?.(0),g.push(v.product.checkout)}catch(R){console.error(R)}}),te=y.useCallback(()=>{try{o?.({...p,colors:[p.colors],subtotal:p.price*p.quantity})}catch(c){console.error(c)}},[o,p]),re=e.jsxs(j,{sx:{typography:"h5"},children:[q&&e.jsx(j,{component:"span",sx:{color:"text.disabled",textDecoration:"line-through",mr:.5},children:N(q)}),N(A)]}),ie=e.jsxs(i,{direction:"row",spacing:3,justifyContent:"center",children:[e.jsxs(C,{variant:"subtitle2",sx:{color:"text.secondary",display:"inline-flex",alignItems:"center"},children:[e.jsx(d,{icon:"mingcute:add-line",width:16,sx:{mr:1}}),"Compare"]}),e.jsxs(C,{variant:"subtitle2",sx:{color:"text.secondary",display:"inline-flex",alignItems:"center"},children:[e.jsx(d,{icon:"solar:heart-bold",width:16,sx:{mr:1}}),"Favorite"]}),e.jsxs(C,{variant:"subtitle2",sx:{color:"text.secondary",display:"inline-flex",alignItems:"center"},children:[e.jsx(d,{icon:"solar:share-bold",width:16,sx:{mr:1}}),"Share"]})]}),ne=e.jsxs(i,{direction:"row",children:[e.jsx(x,{variant:"subtitle2",sx:{flexGrow:1},children:"Color"}),e.jsx(Ce,{name:"colors",control:Z,render:({field:c})=>e.jsx(Oe,{colors:F,selected:c.value,onSelectColor:R=>c.onChange(R),limit:4})})]}),oe=e.jsxs(i,{direction:"row",children:[e.jsx(x,{variant:"subtitle2",sx:{flexGrow:1},children:"Size"}),e.jsx(Qe.Select,{name:"size",size:"small",helperText:e.jsx(C,{underline:"always",color:"textPrimary",children:"Size chart"}),sx:{maxWidth:88,[`& .${ve.root}`]:{mx:0,mt:1,textAlign:"right"}},children:l.map(c=>e.jsx(Q,{value:c,children:c},c))})]}),ae=e.jsxs(i,{direction:"row",children:[e.jsx(x,{variant:"subtitle2",sx:{flexGrow:1},children:"Quantity"}),e.jsxs(i,{spacing:1,children:[e.jsx(Ge,{name:"quantity",quantity:p.quantity,disabledDecrease:p.quantity<=1,disabledIncrease:p.quantity>=f,onIncrease:()=>G("quantity",p.quantity+1),onDecrease:()=>G("quantity",p.quantity-1)}),e.jsxs(x,{variant:"caption",component:"div",sx:{textAlign:"right"},children:["Available: ",f]})]})]}),le=e.jsxs(i,{direction:"row",spacing:2,children:[e.jsx(w,{fullWidth:!0,disabled:K||n,size:"large",color:"warning",variant:"contained",startIcon:e.jsx(d,{icon:"solar:cart-plus-bold",width:24}),onClick:te,sx:{whiteSpace:"nowrap"},children:"Add to cart"}),e.jsx(w,{fullWidth:!0,size:"large",type:"submit",variant:"contained",disabled:n,children:"Buy now"})]}),ce=e.jsx(x,{variant:"body2",sx:{color:"text.secondary"},children:_}),de=e.jsxs(i,{direction:"row",alignItems:"center",sx:{color:"text.disabled",typography:"body2"},children:[e.jsx(B,{size:"small",value:H,precision:.1,readOnly:!0,sx:{mr:1}}),`(${D(V)} reviews)`]}),xe=(k.enabled||P.enabled)&&e.jsxs(i,{direction:"row",alignItems:"center",spacing:1,children:[k.enabled&&e.jsx(W,{color:"info",children:k.content}),P.enabled&&e.jsx(W,{color:"error",children:P.content})]}),he=e.jsx(j,{component:"span",sx:{typography:"overline",color:S==="out of stock"&&"error.main"||S==="low stock"&&"warning.main"||"success.main"},children:S});return e.jsx(we,{methods:E,onSubmit:se,children:e.jsxs(i,{spacing:3,sx:{pt:3},...h,children:[e.jsxs(i,{spacing:2,alignItems:"flex-start",children:[xe,he,e.jsx(x,{variant:"h5",children:m}),de,re,ce]}),e.jsx(L,{sx:{borderStyle:"dashed"}}),ne,oe,ae,e.jsx(L,{sx:{borderStyle:"dashed"}}),le,ie]})})}function ns({publish:s,backLink:t,editLink:o,liveLink:r,publishOptions:n,onChangePublish:h,sx:g,...a}){const m=Ie();return e.jsxs(e.Fragment,{children:[e.jsxs(i,{spacing:1.5,direction:"row",sx:{mb:{xs:3,md:5},...g},...a,children:[e.jsx(w,{component:I,href:t,startIcon:e.jsx(d,{icon:"eva:arrow-ios-back-fill",width:16}),children:"Back"}),e.jsx(j,{sx:{flexGrow:1}}),s==="published"&&e.jsx($,{title:"Go Live",children:e.jsx(M,{component:I,href:r,children:e.jsx(d,{icon:"eva:external-link-fill"})})}),e.jsx($,{title:"Edit",children:e.jsx(M,{component:I,href:o,children:e.jsx(d,{icon:"solar:pen-bold"})})}),e.jsx(ke,{color:"inherit",variant:"contained",loading:!s,loadingIndicator:"Loading…",endIcon:e.jsx(d,{icon:"eva:arrow-ios-downward-fill"}),onClick:m.onOpen,sx:{textTransform:"capitalize"},children:s})]}),e.jsx(Pe,{open:m.open,anchorEl:m.anchorEl,onClose:m.onClose,slotProps:{arrow:{placement:"top-right"}},children:e.jsx(Se,{children:n.map(l=>e.jsxs(Q,{selected:l.value===s,onClick:()=>{m.onClose(),h(l.value)},children:[l.value==="published"&&e.jsx(d,{icon:"eva:cloud-upload-fill"}),l.value==="draft"&&e.jsx(d,{icon:"solar:file-text-bold"}),l.label]},l.value))})})]})}function os({images:s}){const t=Ke({thumbs:{slidesToShow:"auto"}}),o=s?.map(n=>({src:n}))||[],r=Ue(o);return y.useEffect(()=>{r.open&&t.mainApi?.scrollTo(r.selected,!0)},[t.mainApi,r.open,r.selected]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsxs(j,{sx:{mb:2.5,position:"relative"},children:[e.jsx(Je,{...t.arrows,options:t.options,totalSlides:t.dots.dotCount,selectedIndex:t.dots.selectedIndex+1,sx:{right:16,bottom:16,position:"absolute"}}),e.jsx(Ve,{carousel:t,sx:{borderRadius:2},children:o.map(n=>e.jsx(Re,{alt:n.src,src:n.src,ratio:"1/1",onClick:()=>r.onOpen(n.src),sx:{cursor:"zoom-in",minWidth:320}},n.src))})]}),e.jsx(_e,{ref:t.thumbs.thumbsRef,options:t.options?.thumbs,slotProps:{disableMask:!0},sx:{width:360},children:o.map((n,h)=>e.jsx(Ye,{index:h,src:n.src,selected:h===t.thumbs.selectedIndex,onClick:()=>t.thumbs.onClickThumb(h)},n.src))})]}),e.jsx(He,{index:r.selected,slides:o,open:r.open,close:r.onClose,onGetCurrentIndex:n=>r.setSelected(n)})]})}function as({description:s}){return e.jsx(Xe,{children:s,sx:{p:3,"& p, li, ol":{typography:"body2"},"& ol":{p:0,display:{md:"flex"},listStyleType:"none","& li":{"&:first-of-type":{minWidth:240,mb:{xs:.5,md:0}}}}}})}const ls=[{title:"100% original",description:"Chocolate bar candy canes ice cream toffee cookie halvah.",icon:"solar:verified-check-bold"},{title:"10 days replacement",description:"Marshmallow biscuit donut dragée fruitcake wafer.",icon:"solar:clock-circle-bold"},{title:"Year warranty",description:"Cotton candy gingerbread cake I love sugar sweet.",icon:"solar:shield-check-bold"}];function cs({product:s,error:t,loading:o}){const r=We("description"),[n,h]=y.useState("");y.useEffect(()=>{s&&h(s?.publish)},[s]);const g=y.useCallback(a=>{h(a)},[]);return o?e.jsx(T,{sx:{pt:5},children:e.jsx(es,{})}):t?e.jsx(T,{sx:{pt:5},children:e.jsx($e,{filled:!0,title:"Product not found!",action:e.jsx(w,{component:I,href:v.dashboard.product.root,startIcon:e.jsx(d,{width:16,icon:"eva:arrow-ios-back-fill"}),sx:{mt:3},children:"Back to list"}),sx:{py:10,height:"auto",flexGrow:"unset"}})}):e.jsxs(T,{children:[e.jsx(ns,{backLink:v.dashboard.product.root,editLink:v.dashboard.product.edit(`${s?.id}`),liveLink:v.product.details(`${s?.id}`),publish:n,onChangePublish:g,publishOptions:Te}),e.jsxs(b,{container:!0,spacing:{xs:3,md:5,lg:8},children:[e.jsx(b,{xs:12,md:6,lg:7,children:e.jsx(os,{images:s?.images??[]})}),e.jsx(b,{xs:12,md:6,lg:5,children:s&&e.jsx(is,{disableActions:!0,product:s})})]}),e.jsx(j,{gap:5,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(3, 1fr)"},sx:{my:10},children:ls.map(a=>e.jsxs(j,{sx:{textAlign:"center",px:5},children:[e.jsx(d,{icon:a.icon,width:32,sx:{color:"primary.main"}}),e.jsx(x,{variant:"subtitle1",sx:{mb:1,mt:2},children:a.title}),e.jsx(x,{variant:"body2",sx:{color:"text.secondary"},children:a.description})]},a.title))}),e.jsxs(Ze,{children:[e.jsx(Le,{value:r.value,onChange:r.onChange,sx:{px:3,boxShadow:a=>`inset 0 -2px 0 0 ${De(a.vars.palette.grey["500Channel"],.08)}`},children:[{value:"description",label:"Description"},{value:"reviews",label:`Reviews (${s?.reviews.length})`}].map(a=>e.jsx(Be,{value:a.value,label:a.label},a.value))}),r.value==="description"&&e.jsx(as,{description:s?.description??""}),r.value==="reviews"&&e.jsx(rs,{ratings:s?.ratings??[],reviews:s?.reviews??[],totalRatings:s?.totalRatings??0,totalReviews:s?.totalReviews??0})]})]})}const ds={title:`Product details | Dashboard - ${Fe.site.name}`};function et(){const{id:s=""}=qe(),{product:t,productLoading:o,productError:r}=ze(s);return e.jsxs(e.Fragment,{children:[e.jsx(Ae,{children:e.jsxs("title",{children:[" ",ds.title]})}),e.jsx(cs,{product:t,loading:o,error:r})]})}export{et as default};
