import{f as w,r as i,k as F,q as t,iX as m,aA as u,iV as v,ij as p,a_ as h,v as s,d$ as n,d_ as r,cC as o}from"./index-DtP58muJ.js";const y=i.createContext(void 0),D=()=>{const e=i.useContext(y);if(e===void 0)throw new Error("useContextPage must be used within a PageContext.Provider");return e},N=({children:e})=>{const c=w(),[_,f]=i.useState(0),b=()=>f(a=>a+1),[l,q]=i.useState(""),x=a=>{q(a)},[g,P]=i.useState(0),V=a=>{P(a)},[d,S]=i.useState(0),T=a=>{S(a)},j=i.useMemo(()=>({isDialogFormOpen:c,refreshFlag:_,triggerRefresh:b,keyword:l,updateKeyword:x,page:g,updatePage:V,rowsPerPage:d,updateRowsPerPage:T}),[c,_,l,,g,d]);return F.jsx(y.Provider,{value:j,children:e})},C=t({id:s(),voucher_id:s(),type:o(Object.values(m),{message:"invalid voucher items type!"}),voucher_type:o(Object.values(u),{message:"invalid voucher nominal type!"}),voucher_value:s({message:"Voucher nominal is required!"}).refine(e=>!(e===void 0||e===""),{message:"Voucher nominal must be at least 0!"}),has_voucher_max:r(),voucher_max_type:o(Object.values(u),{message:"invalid voucher max type!"}),voucher_max_value:s(),all_item_targets:r(),voucher_item_targets:n(t({id:s(),voucher_item_id:s(),targetable_id:s(),targetable_type:s(),targetable_data:t({id:s(),name:s()})}))}),E={id:"",voucher_id:"",type:m.product,voucher_type:u.absolute,voucher_value:"",has_voucher_max:!1,voucher_max_type:u.absolute,voucher_max_value:"",all_item_targets:!0,voucher_item_targets:[]},R=t({id:s(),all_stores:r(),voucher_stores:n(t({voucher_id:s(),store_id:s(),store:t({id:s(),name:s()})})),name:s().min(1,{message:"Name is required!"}),code:s().min(1,{message:"Code is required!"}),start_at:s().min(1,{message:"Period start is required!"}),end_at:s().min(1,{message:"Period end is required!"}),is_unlimited_qty:r(),qty:s(),type:o(Object.values(p),{message:"invalid voucher type!"}),description:s().min(1,{message:"Description is required!"}),has_usage_limit:r(),usage:t({limit:s(),duration:s(),unit:o(Object.values(v),{message:"invalid usage unit!"})}),has_min_transaction:r(),min_transaction:t({value:s().refine(e=>e===void 0||e===""||!Number.isNaN(Number(e.replace(/,/g,"")))&&Number(e.replace(/,/g,""))>=0,{message:"Min transaction value must be at least 0!"}),type:o(Object.values(u),{message:"Invalid min transaction type!"})}),all_customers:r(),customers:n(t({id:s(),name:s()})),voucher_items:n(C)}).refine(e=>e.all_stores||e.voucher_stores&&e.voucher_stores.length>0,{message:"Stores is required!",path:["voucher_stores"]}).refine(e=>e.is_unlimited_qty||e.qty!==void 0&&e.qty.trim()!=="",{message:"Quantity is required!",path:["qty"]}).refine(e=>!e.has_usage_limit||e.usage.limit!==void 0&&e.usage.limit.trim()!=="",{message:"Usage Limit is required!",path:["usage.limit"]}).refine(e=>!e.has_usage_limit||e.usage.duration!==void 0&&e.usage.duration.trim()!=="",{message:"Usage duration is required!",path:["usage.duration"]}).refine(e=>!e.has_usage_limit||e.usage.unit!==void 0&&e.usage.unit.trim()!=="",{message:"Usage is required!",path:["usage.unit"]}).refine(e=>!e.has_min_transaction||e.min_transaction.value!==void 0&&e.min_transaction.value.trim()!=="",{message:"Min transaction Value is required!",path:["min_transaction.value"]}).refine(e=>!e.has_min_transaction||e.min_transaction.type!==void 0&&e.min_transaction.type.trim()!=="",{message:"Min transaction Type is required!",path:["min_transaction.type"]}),U={id:"",all_stores:!0,voucher_stores:[],name:"",code:"",start_at:h().toString(),end_at:h().add(1,"day").toString(),is_unlimited_qty:!1,qty:"",type:p.public,description:"",has_usage_limit:!1,usage:{limit:"",duration:"",unit:v.day},has_min_transaction:!1,min_transaction:{value:"",type:u.absolute},all_customers:!1,customers:[],voucher_items:[m.product].map(e=>({...E,type:e}))},k=t({keyword:s()}),I={keyword:""};export{N as P,I as T,U as V,k as a,R as b,D as u};
