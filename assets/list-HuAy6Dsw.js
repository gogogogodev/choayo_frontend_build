import{f as R,cP as T,k as e,aY as F,S as g,aL as V,L as _,aw as y,aC as I,dg as D,m as C,n as u,cQ as E,cd as A,cc as j,ag as k,r as d,aV as z,c1 as H,f7 as Q,f8 as M,bE as W,I as G,bC as f,c as K,fV as $,f6 as q,dC as P,p as b,aE as J,R as Y,ca as X,fQ as Z,bI as ee,c9 as se,fW as te,az as oe,H as ae,C as le}from"./index-CtazL8yi.js";import{U as ne}from"./user-quick-edit-form-D_iKvVpB.js";import{C as L}from"./confirm-dialog-CEcgDmma.js";import{C as re}from"./custom-breadcrumbs-DCKI5EoT.js";import{u as ie,g as ce,r as de,e as he}from"./use-table-C5REVH4X.js";import{T as me}from"./table-no-data-5Gpu9CZT.js";import{T as ue}from"./table-empty-rows-Cm08UWfb.js";import{T as pe}from"./table-head-custom-D6h51wTY.js";import{T as xe}from"./table-selected-action-m7I_V1_h.js";import{T as je}from"./table-pagination-custom-CrnkiCEU.js";import{b as ge,T as be,c as Ce}from"./TableRow-CfQY8bjO.js";import{T as p}from"./TableCell-DPzIV_vu.js";import{F as we,a as v,c as S}from"./filters-result-CqTcT7At.js";import{C as fe}from"./Card-DTCuhoee.js";import"./format-number-CSJE7oq6.js";import"./fields-DtpCY2Ze.js";import"./Rating-CF8Alnys.js";import"./visuallyHidden-Dan1xhjv.js";import"./Slider-DYRFC88j.js";import"./rhf-radio-group-DX9-_-9m.js";import"./RadioGroup-rk33BBJn.js";import"./FormGroup-3I9bsZvK.js";import"./FormControlLabel-DFxx6sAy.js";import"./country-select-Bwa-rR0D.js";import"./rhf-switch-DjhXwtDK.js";import"./rhf-checkbox-ClXqBOLt.js";import"./rhf-upload-C3OgFPC3.js";import"./upload-B6rOCRw-.js";import"./index-Cwjez_Mi.js";import"./placeholder-CbRedPRL.js";import"./preview-multi-file-DIDrQBye.js";import"./upload-avatar-CfvSEq0I.js";import"./rhf-date-picker-2a_P4JNL.js";import"./DatePicker-BqHCM0PQ.js";import"./ListItem-D6s2wHyy.js";import"./MobileDateTimePicker-Cmz-Um3i.js";import"./schema-helper-BI0i4TVU.js";import"./empty-content-oGcGfW-8.js";import"./TablePagination-vGscDLpy.js";import"./LastPage-BNGOmTNl.js";function ve({row:s,selected:r,onEditRow:i,onSelectRow:l,onDeleteRow:h}){const n=R(),t=T(),a=R();return console.log(s),e.jsxs(e.Fragment,{children:[e.jsxs(ge,{hover:!0,selected:r,"aria-checked":r,tabIndex:-1,children:[e.jsx(p,{padding:"checkbox",children:e.jsx(F,{id:s.id,checked:r,onClick:l})}),e.jsx(p,{children:e.jsxs(g,{spacing:2,direction:"row",alignItems:"center",children:[e.jsx(V,{alt:"Johan",src:"-"}),e.jsxs(g,{sx:{typography:"body2",flex:"1 1 auto",alignItems:"flex-start"},children:[e.jsx(_,{color:"inherit",onClick:i,sx:{cursor:"pointer"},children:s.name}),e.jsx(y,{component:"span",sx:{color:"text.disabled"},children:s.email})]})]})}),e.jsx(p,{sx:{whiteSpace:"nowrap"},children:s.phoneNumber}),e.jsx(p,{sx:{whiteSpace:"nowrap"},children:s.company}),e.jsx(p,{sx:{whiteSpace:"nowrap"},children:s.role}),e.jsx(p,{children:e.jsx(I,{variant:"soft",color:s.status==="active"&&"success"||s.status==="pending"&&"warning"||s.status==="banned"&&"error"||"default",children:s.status})}),e.jsx(p,{children:e.jsxs(g,{direction:"row",alignItems:"center",children:[e.jsx(D,{title:"Quick Edit",placement:"top",arrow:!0,children:e.jsx(C,{color:a.value?"inherit":"default",onClick:a.onTrue,children:e.jsx(u,{icon:"solar:pen-bold"})})}),e.jsx(C,{color:t.open?"inherit":"default",onClick:t.onOpen,children:e.jsx(u,{icon:"eva:more-vertical-fill"})})]})})]}),e.jsx(ne,{currentUser:s,open:a.value,onClose:a.onFalse}),e.jsx(E,{open:t.open,anchorEl:t.anchorEl,onClose:t.onClose,slotProps:{arrow:{placement:"right-top"}},children:e.jsxs(A,{children:[e.jsxs(j,{onClick:()=>{n.onTrue(),t.onClose()},sx:{color:"error.main"},children:[e.jsx(u,{icon:"solar:trash-bin-trash-bold"}),"Delete"]}),e.jsxs(j,{onClick:()=>{i(),t.onClose()},children:[e.jsx(u,{icon:"solar:pen-bold"}),"Edit"]})]})}),e.jsx(L,{open:n.value,onClose:n.onFalse,title:"Delete",content:"Are you sure want to delete?",action:e.jsx(k,{variant:"contained",color:"error",onClick:h,children:"Delete"})})]})}function Se({filters:s,options:r,onResetPage:i}){const l=T(),h=d.useCallback(t=>{i(),s.setState({name:t.target.value})},[s,i]),n=d.useCallback(t=>{const a=typeof t.target.value=="string"?t.target.value.split(","):t.target.value;i(),s.setState({role:a})},[s,i]);return e.jsxs(e.Fragment,{children:[e.jsxs(g,{spacing:2,alignItems:{xs:"flex-end",md:"center"},direction:{xs:"column",md:"row"},sx:{p:2.5,pr:{xs:2.5,md:1}},children:[e.jsxs(z,{sx:{flexShrink:0,width:{xs:1,md:200}},children:[e.jsx(H,{htmlFor:"user-filter-role-select-label",children:"Role"}),e.jsx(Q,{multiple:!0,value:s.state.role,onChange:n,input:e.jsx(M,{label:"Role"}),renderValue:t=>t.map(a=>a).join(", "),inputProps:{id:"user-filter-role-select-label"},MenuProps:{PaperProps:{sx:{maxHeight:240}}},children:r.roles.map(t=>e.jsxs(j,{value:t,children:[e.jsx(F,{disableRipple:!0,size:"small",checked:s.state.role.includes(t)}),t]},t))})]}),e.jsxs(g,{direction:"row",alignItems:"center",spacing:2,flexGrow:1,sx:{width:1},children:[e.jsx(W,{fullWidth:!0,value:s.state.name,onChange:h,placeholder:"Search...",InputProps:{startAdornment:e.jsx(G,{position:"start",children:e.jsx(u,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})}}),e.jsx(C,{onClick:l.onOpen,children:e.jsx(u,{icon:"eva:more-vertical-fill"})})]})]}),e.jsx(E,{open:l.open,anchorEl:l.anchorEl,onClose:l.onClose,slotProps:{arrow:{placement:"right-top"}},children:e.jsxs(A,{children:[e.jsxs(j,{onClick:()=>{l.onClose()},children:[e.jsx(u,{icon:"solar:printer-minimalistic-bold"}),"Print"]}),e.jsxs(j,{onClick:()=>{l.onClose()},children:[e.jsx(u,{icon:"solar:import-bold"}),"Import"]}),e.jsxs(j,{onClick:()=>{l.onClose()},children:[e.jsx(u,{icon:"solar:export-bold"}),"Export"]})]})})]})}function Re({filters:s,onResetPage:r,totalResults:i,sx:l}){const h=d.useCallback(()=>{r(),s.setState({name:""})},[s,r]),n=d.useCallback(()=>{r(),s.setState({status:"all"})},[s,r]),t=d.useCallback(c=>{const x=s.state.role.filter(w=>w!==c);r(),s.setState({role:x})},[s,r]),a=d.useCallback(()=>{r(),s.onResetState()},[s,r]);return e.jsxs(we,{totalResults:i,onReset:a,sx:l,children:[e.jsx(v,{label:"Status:",isShow:s.state.status!=="all",children:e.jsx(f,{...S,label:s.state.status,onDelete:n,sx:{textTransform:"capitalize"}})}),e.jsx(v,{label:"Role:",isShow:!!s.state.role.length,children:s.state.role.map(c=>d.createElement(f,{...S,key:c,label:c,onDelete:()=>t(c)}))}),e.jsx(v,{label:"Keyword:",isShow:!!s.state.name,children:e.jsx(f,{...S,label:s.state.name,onDelete:h})})]})}const ke=[{value:"all",label:"All"},...Z],Pe=[{id:"name",label:"Name"},{id:"phoneNumber",label:"Phone number",width:180},{id:"company",label:"Company",width:220},{id:"role",label:"Role",width:180},{id:"status",label:"Status",width:100},{id:"",width:88}];function Te(){const s=ie(),r=K(),i=R(),[l,h]=d.useState($),n=q({name:"",role:[],status:"all"}),t=Fe({inputData:l,comparator:ce(s.order,s.orderBy),filters:n.state}),a=de(t,s.page,s.rowsPerPage),c=!!n.state.name||n.state.role.length>0||n.state.status!=="all",x=!t.length&&c||!t.length,w=d.useCallback(o=>{const m=l.filter(O=>O.id!==o);P.success("Delete success!"),h(m),s.onUpdatePageDeleteRow(a.length)},[a.length,s,l]),U=d.useCallback(()=>{const o=l.filter(m=>!s.selected.includes(m.id));P.success("Delete success!"),h(o),s.onUpdatePageDeleteRows({totalRowsInPage:a.length,totalRowsFiltered:t.length})},[t.length,a.length,s,l]),B=d.useCallback(o=>{r.push(b.dashboard.user.edit(o))},[r]),N=d.useCallback((o,m)=>{s.onResetPage(),n.setState({status:m})},[n,s]);return e.jsxs(e.Fragment,{children:[e.jsxs(J,{children:[e.jsx(re,{heading:"List",links:[{name:"Dashboard",href:b.dashboard.root},{name:"User",href:b.dashboard.user.root},{name:"List"}],action:e.jsx(k,{component:Y,href:b.dashboard.user.new,variant:"contained",startIcon:e.jsx(u,{icon:"mingcute:add-line"}),children:"New user"}),sx:{mb:{xs:3,md:5}}}),e.jsxs(fe,{children:[e.jsx(X,{value:n.state.status,onChange:N,sx:{px:2.5,boxShadow:o=>`inset 0 -2px 0 0 ${ee(o.vars.palette.grey["500Channel"],.08)}`},children:ke.map(o=>e.jsx(se,{iconPosition:"end",value:o.value,label:o.label,icon:e.jsx(I,{variant:(o.value==="all"||o.value===n.state.status)&&"filled"||"soft",color:o.value==="active"&&"success"||o.value==="pending"&&"warning"||o.value==="banned"&&"error"||"default",children:["active","pending","banned","rejected"].includes(o.value)?l.filter(m=>m.status===o.value).length:l.length})},o.value))}),e.jsx(Se,{filters:n,onResetPage:s.onResetPage,options:{roles:te}}),c&&e.jsx(Re,{filters:n,totalResults:t.length,onResetPage:s.onResetPage,sx:{p:2.5,pt:0}}),e.jsxs(y,{sx:{position:"relative"},children:[e.jsx(xe,{dense:s.dense,numSelected:s.selected.length,rowCount:t.length,onSelectAllRows:o=>s.onSelectAllRows(o,t.map(m=>m.id)),action:e.jsx(D,{title:"Delete",children:e.jsx(C,{color:"primary",onClick:i.onTrue,children:e.jsx(u,{icon:"solar:trash-bin-trash-bold"})})})}),e.jsx(oe,{children:e.jsxs(be,{size:s.dense?"small":"medium",sx:{minWidth:960},children:[e.jsx(pe,{order:s.order,orderBy:s.orderBy,headLabel:Pe,rowCount:t.length,numSelected:s.selected.length,onSort:s.onSort,onSelectAllRows:o=>s.onSelectAllRows(o,t.map(m=>m.id))}),e.jsxs(Ce,{children:[t.slice(s.page*s.rowsPerPage,s.page*s.rowsPerPage+s.rowsPerPage).map(o=>e.jsx(ve,{row:o,selected:s.selected.includes(o.id),onSelectRow:()=>s.onSelectRow(o.id),onDeleteRow:()=>w(o.id),onEditRow:()=>B(o.id)},o.id)),e.jsx(ue,{height:s.dense?56:76,emptyRows:he(s.page,s.rowsPerPage,t.length)}),e.jsx(me,{notFound:x})]})]})})]}),e.jsx(je,{page:s.page,dense:s.dense,count:t.length,rowsPerPage:s.rowsPerPage,onPageChange:s.onChangePage,onChangeDense:s.onChangeDense,onRowsPerPageChange:s.onChangeRowsPerPage})]})]}),e.jsx(L,{open:i.value,onClose:i.onFalse,title:"Delete",content:e.jsxs(e.Fragment,{children:["Are you sure want to delete ",e.jsxs("strong",{children:[" ",s.selected.length," "]})," items?"]}),action:e.jsx(k,{variant:"contained",color:"error",onClick:()=>{U(),i.onFalse()},children:"Delete"})})]})}function Fe({inputData:s,comparator:r,filters:i}){const{name:l,status:h,role:n}=i,t=s.map((a,c)=>[a,c]);return t.sort((a,c)=>{const x=r(a[0],c[0]);return x!==0?x:a[1]-c[1]}),s=t.map(a=>a[0]),l&&(s=s.filter(a=>a.name.toLowerCase().indexOf(l.toLowerCase())!==-1)),h!=="all"&&(s=s.filter(a=>a.status===h)),n.length&&(s=s.filter(a=>n.includes(a.role))),s}const ye={title:`User list | Dashboard - ${le.site.name}`};function js(){return e.jsxs(e.Fragment,{children:[e.jsx(ae,{children:e.jsxs("title",{children:[" ",ye.title]})}),e.jsx(Te,{})]})}export{js as default};
