import{k as e,m,n as c,S as r,aL as v,l as g,aw as n,ag as y,L as T,as as u,az as C,ci as I,cP as k,R as D,aC as P,aK as p,cQ as O,cd as A,cc as F,bH as L,r as w,aE as N,fw as E,p as B,aF as b,fu as H,H as R,C as $}from"./index-DtP58muJ.js";import{u as z}from"./use-params-x5Ny5RF3.js";import"./order-list-view-BOiqCClY.js";import{C as j}from"./CardHeader-DrP1HthL.js";import{C as f}from"./Card-DhhypByC.js";import{f as h}from"./format-number-Ds7vlrjD.js";import{T as G,a as U,b as _,c as M,d as W,e as q,t as K}from"./TimelineSeparator-CnE8qFoy.js";import"./confirm-dialog-pbQjpS2y.js";import"./custom-breadcrumbs-C-JLSHAz.js";import"./use-table-pcmtp1Ll.js";import"./table-no-data-hEKiryxY.js";import"./empty-content-DR9MOANP.js";import"./TableRow-BeGZSEnl.js";import"./TableCell-BYy3h6md.js";import"./table-empty-rows-2hkiKerU.js";import"./table-head-custom-CkAC_7gM.js";import"./table-selected-action-06aluIIx.js";import"./table-pagination-custom-DoMFqUCQ.js";import"./TablePagination-DcwzPYld.js";import"./LastPage-CTPAXkYQ.js";import"./FormControlLabel-aYt4PlDo.js";import"./DatePicker-C3EXuF80.js";import"./ListItem-B8SR2-3G.js";import"./filters-result-5dSJsA25.js";function Q({customer:s,delivery:i,payment:t,shippingAddress:a}){const d=e.jsxs(e.Fragment,{children:[e.jsx(j,{title:"Customer info",action:e.jsx(m,{children:e.jsx(c,{icon:"solar:pen-bold"})})}),e.jsxs(r,{direction:"row",sx:{p:3},children:[e.jsx(v,{alt:s?.name,src:s?.avatarUrl,sx:{width:48,height:48,mr:2}}),e.jsxs(r,{spacing:.5,alignItems:"flex-start",sx:{typography:"body2"},children:[e.jsx(g,{variant:"subtitle2",children:s?.name}),e.jsx(n,{sx:{color:"text.secondary"},children:s?.email}),e.jsxs("div",{children:["IP address:",e.jsx(n,{component:"span",sx:{color:"text.secondary",ml:.25},children:s?.ipAddress})]}),e.jsx(y,{size:"small",color:"error",startIcon:e.jsx(c,{icon:"mingcute:add-line"}),sx:{mt:1},children:"Add to Blacklist"})]})]})]}),x=e.jsxs(e.Fragment,{children:[e.jsx(j,{title:"Delivery",action:e.jsx(m,{children:e.jsx(c,{icon:"solar:pen-bold"})})}),e.jsxs(r,{spacing:1.5,sx:{p:3,typography:"body2"},children:[e.jsxs(r,{direction:"row",alignItems:"center",children:[e.jsx(n,{component:"span",sx:{color:"text.secondary",width:120,flexShrink:0},children:"Ship by"}),i?.shipBy]}),e.jsxs(r,{direction:"row",alignItems:"center",children:[e.jsx(n,{component:"span",sx:{color:"text.secondary",width:120,flexShrink:0},children:"Speedy"}),i?.speedy]}),e.jsxs(r,{direction:"row",alignItems:"center",children:[e.jsx(n,{component:"span",sx:{color:"text.secondary",width:120,flexShrink:0},children:"Tracking No."}),e.jsx(T,{underline:"always",color:"inherit",children:i?.trackingNumber})]})]})]}),l=e.jsxs(e.Fragment,{children:[e.jsx(j,{title:"Shipping",action:e.jsx(m,{children:e.jsx(c,{icon:"solar:pen-bold"})})}),e.jsxs(r,{spacing:1.5,sx:{p:3,typography:"body2"},children:[e.jsxs(r,{direction:"row",children:[e.jsx(n,{component:"span",sx:{color:"text.secondary",width:120,flexShrink:0},children:"Address"}),a?.fullAddress]}),e.jsxs(r,{direction:"row",children:[e.jsx(n,{component:"span",sx:{color:"text.secondary",width:120,flexShrink:0},children:"Phone number"}),a?.phoneNumber]})]})]}),o=e.jsxs(e.Fragment,{children:[e.jsx(j,{title:"Payment",action:e.jsx(m,{children:e.jsx(c,{icon:"solar:pen-bold"})})}),e.jsxs(n,{display:"flex",alignItems:"center",justifyContent:"flex-end",sx:{p:3,gap:.5,typography:"body2"},children:[t?.cardNumber,e.jsx(c,{icon:"logos:mastercard",width:24})]})]});return e.jsxs(f,{children:[d,e.jsx(u,{sx:{borderStyle:"dashed"}}),x,e.jsx(u,{sx:{borderStyle:"dashed"}}),l,e.jsx(u,{sx:{borderStyle:"dashed"}}),o]})}function V({taxes:s,shipping:i,discount:t,subtotal:a,items:d=[],totalAmount:x}){const l=e.jsxs(r,{spacing:2,alignItems:"flex-end",sx:{p:3,textAlign:"right",typography:"body2"},children:[e.jsxs(r,{direction:"row",children:[e.jsx(n,{sx:{color:"text.secondary"},children:"Subtotal"}),e.jsx(n,{sx:{width:160,typography:"subtitle2"},children:h(a)||"-"})]}),e.jsxs(r,{direction:"row",children:[e.jsx(n,{sx:{color:"text.secondary"},children:"Shipping"}),e.jsx(n,{sx:{width:160,...i&&{color:"error.main"}},children:i?`- ${h(i)}`:"-"})]}),e.jsxs(r,{direction:"row",children:[e.jsx(n,{sx:{color:"text.secondary"},children:"Discount"}),e.jsx(n,{sx:{width:160,...t&&{color:"error.main"}},children:t?`- ${h(t)}`:"-"})]}),e.jsxs(r,{direction:"row",children:[e.jsx(n,{sx:{color:"text.secondary"},children:"Taxes"}),e.jsx(n,{sx:{width:160},children:s?h(s):"-"})]}),e.jsxs(r,{direction:"row",sx:{typography:"subtitle1"},children:[e.jsx("div",{children:"Total"}),e.jsx(n,{sx:{width:160},children:h(x)||"-"})]})]});return e.jsxs(f,{children:[e.jsx(j,{title:"Details",action:e.jsx(m,{children:e.jsx(c,{icon:"solar:pen-bold"})})}),e.jsx(C,{children:d.map(o=>e.jsxs(r,{direction:"row",alignItems:"center",sx:{p:3,minWidth:640,borderBottom:S=>`dashed 2px ${S.vars.palette.background.neutral}`},children:[e.jsx(v,{src:o.coverUrl,variant:"rounded",sx:{width:48,height:48,mr:2}}),e.jsx(I,{primary:o.name,secondary:o.sku,primaryTypographyProps:{typography:"body2"},secondaryTypographyProps:{component:"span",color:"text.disabled",mt:.5}}),e.jsxs(n,{sx:{typography:"body2"},children:["x",o.quantity]}),e.jsx(n,{sx:{width:110,textAlign:"right",typography:"subtitle2"},children:h(o.price)})]},o.id))}),l]})}function J({status:s,backLink:i,createdAt:t,orderNumber:a,statusOptions:d,onChangeStatus:x}){const l=k();return e.jsxs(e.Fragment,{children:[e.jsxs(r,{spacing:3,direction:{xs:"column",md:"row"},sx:{mb:{xs:3,md:5}},children:[e.jsxs(r,{spacing:1,direction:"row",alignItems:"flex-start",children:[e.jsx(m,{component:D,href:i,children:e.jsx(c,{icon:"eva:arrow-ios-back-fill"})}),e.jsxs(r,{spacing:.5,children:[e.jsxs(r,{spacing:1,direction:"row",alignItems:"center",children:[e.jsxs(g,{variant:"h4",children:[" Order ",a," "]}),e.jsx(P,{variant:"soft",color:s==="completed"&&"success"||s==="pending"&&"warning"||s==="cancelled"&&"error"||"default",children:s})]}),e.jsx(g,{variant:"body2",sx:{color:"text.disabled"},children:p(t)})]})]}),e.jsxs(r,{flexGrow:1,spacing:1.5,direction:"row",alignItems:"center",justifyContent:"flex-end",children:[e.jsx(y,{color:"inherit",variant:"outlined",endIcon:e.jsx(c,{icon:"eva:arrow-ios-downward-fill"}),onClick:l.onOpen,sx:{textTransform:"capitalize"},children:s}),e.jsx(y,{color:"inherit",variant:"outlined",startIcon:e.jsx(c,{icon:"solar:printer-minimalistic-bold"}),children:"Print"}),e.jsx(y,{color:"inherit",variant:"contained",startIcon:e.jsx(c,{icon:"solar:pen-bold"}),children:"Edit"})]})]}),e.jsx(O,{open:l.open,anchorEl:l.anchorEl,onClose:l.onClose,slotProps:{arrow:{placement:"top-right"}},children:e.jsx(A,{children:d.map(o=>e.jsx(F,{selected:o.value===s,onClick:()=>{l.onClose(),x(o.value)},children:o.label},o.value))})})]})}function X({history:s}){const i=e.jsxs(L,{variant:"outlined",sx:{p:2.5,gap:2,minWidth:260,flexShrink:0,borderRadius:2,display:"flex",typography:"body2",borderStyle:"dashed",flexDirection:"column"},children:[e.jsxs(r,{spacing:.5,children:[e.jsx(n,{sx:{color:"text.disabled"},children:"Order time"}),p(s?.orderTime)]}),e.jsxs(r,{spacing:.5,children:[e.jsx(n,{sx:{color:"text.disabled"},children:"Payment time"}),p(s?.orderTime)]}),e.jsxs(r,{spacing:.5,children:[e.jsx(n,{sx:{color:"text.disabled"},children:"Delivery time for the carrier"}),p(s?.orderTime)]}),e.jsxs(r,{spacing:.5,children:[e.jsx(n,{sx:{color:"text.disabled"},children:"Completion time"}),p(s?.orderTime)]})]}),t=e.jsx(G,{sx:{p:0,m:0,[`& .${K.root}:before`]:{flex:0,padding:0}},children:s?.timeline.map((a,d)=>{const x=d===0,l=d===s.timeline.length-1;return e.jsxs(U,{children:[e.jsxs(_,{children:[e.jsx(M,{color:x&&"primary"||"grey"}),l?null:e.jsx(W,{})]}),e.jsxs(q,{children:[e.jsx(g,{variant:"subtitle2",children:a.title}),e.jsx(n,{sx:{color:"text.disabled",typography:"caption",mt:.5},children:p(a.time)})]})]},a.title)})});return e.jsxs(f,{children:[e.jsx(j,{title:"History"}),e.jsxs(r,{spacing:3,alignItems:{md:"flex-start"},direction:{xs:"column-reverse",md:"row"},sx:{p:3},children:[t,i]})]})}function Y({order:s}){const[i,t]=w.useState(s?.status),a=w.useCallback(d=>{t(d)},[]);return e.jsxs(N,{children:[e.jsx(J,{backLink:B.dashboard.order.root,orderNumber:s?.orderNumber,createdAt:s?.createdAt,status:i,onChangeStatus:a,statusOptions:E}),e.jsxs(b,{container:!0,spacing:3,children:[e.jsx(b,{xs:12,md:8,children:e.jsxs(r,{spacing:3,direction:{xs:"column-reverse",md:"column"},children:[e.jsx(V,{items:s?.items,taxes:s?.taxes,shipping:s?.shipping,discount:s?.discount,subtotal:s?.subtotal,totalAmount:s?.totalAmount}),e.jsx(X,{history:s?.history})]})}),e.jsx(b,{xs:12,md:4,children:e.jsx(Q,{customer:s?.customer,delivery:s?.delivery,payment:s?.payment,shippingAddress:s?.shippingAddress})})]})]})}const Z={title:`Order details | Dashboard - ${$.site.name}`};function Te(){const{id:s=""}=z(),i=H.find(t=>t.id===s);return e.jsxs(e.Fragment,{children:[e.jsx(R,{children:e.jsxs("title",{children:[" ",Z.title]})}),e.jsx(Y,{order:i})]})}export{Te as default};
