import{bu as ie,bv as ce,r as u,b0 as de,b1 as he,b7 as Q,k as e,b8 as pe,b9 as xe,bb as me,u as U,f as v,cP as G,dC as L,bI as P,aY as E,S as w,ch as _,l as A,ci as ue,dn as ge,aI as Ce,aL as ee,dD as te,n as m,m as M,cw as N,cu as je,cQ as H,cd as oe,cc as I,as as K,ag as D,aw as F,dg as X,bE as be,I as ve,aC as fe,gl as ye,ft as ne,dL as ke,aK as we,bH as Te,gm as De,d2 as Fe,fs as q,bC as $,gn as Se,f6 as Ie,fv as Re,go as Pe,aE as Ee,dG as Ae,fx as Le,H as Me,C as Be}from"./index-DtP58muJ.js";import{E as $e}from"./empty-content-DR9MOANP.js";import{C as V}from"./confirm-dialog-pbQjpS2y.js";import{u as ze,g as Oe,r as Ne}from"./use-table-pcmtp1Ll.js";import{T as We}from"./table-no-data-hEKiryxY.js";import{T as Ue}from"./table-head-custom-CkAC_7gM.js";import{T as Ge}from"./table-selected-action-06aluIIx.js";import{T as _e}from"./table-pagination-custom-DoMFqUCQ.js";import{u as He}from"./use-double-click-C1bXciAi.js";import{u as ae}from"./use-copy-to-clipboard-BK-GD1ou.js";import{a as se}from"./format-number-Ds7vlrjD.js";import{F as le,a as Y,b as J,c as Ke,d as W}from"./file-manager-folder-item-CySOU9RQ.js";import{b as Ve,T as Ye,c as Qe}from"./TableRow-BeGZSEnl.js";import{T as S}from"./TableCell-BYy3h6md.js";import{A as re}from"./AvatarGroup-Ck8jbZ0b.js";import{t as Xe}from"./TablePagination-DcwzPYld.js";import{C as qe}from"./custom-date-range-picker-B-gx_rml.js";import{F as Je,a as z,c as O}from"./filters-result-5dSJsA25.js";import{T as Ze,a as Z}from"./ToggleButtonGroup-BEgCeLg9.js";import"./FormControlLabel-aYt4PlDo.js";import"./upload-0XjiEobF.js";import"./index-B_ujsHii.js";import"./placeholder-DEa7_v4_.js";import"./preview-multi-file-B2dYLG1I.js";import"./LastPage-CTPAXkYQ.js";import"./DatePicker-C3EXuF80.js";import"./ListItem-B8SR2-3G.js";import"./getValidReactChildren-BiSV1uXg.js";function et(t){return ie("MuiTableContainer",t)}ce("MuiTableContainer",["root"]);const tt=["className","component"],ot=t=>{const{classes:o}=t;return me({root:["root"]},et,o)},nt=pe("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(t,o)=>o.root})({width:"100%",overflowX:"auto"}),at=u.forwardRef(function(o,h){const i=de({props:o,name:"MuiTableContainer"}),{className:c,component:g="div"}=i,p=he(i,tt),n=Q({},i,{component:g}),l=ot(n);return e.jsx(nt,Q({ref:h,as:g,className:xe(l.root,c),ownerState:n},p))});function st({row:t,selected:o,onSelectRow:h,onDeleteRow:i}){const c=U(),{copy:g}=ae(),[p,n]=u.useState(""),l=v(t.isFavorited),r=v(),s=v(),x=v(),C=G(),b=u.useCallback(d=>{n(d.target.value)},[]),f=He({click:()=>{r.onTrue()},doubleClick:()=>console.info("DOUBLE CLICK")}),y=u.useCallback(()=>{L.success("Copied!"),g(t.url)},[g,t.url]),k={borderTop:`solid 1px ${P(c.vars.palette.grey["500Channel"],.16)}`,borderBottom:`solid 1px ${P(c.vars.palette.grey["500Channel"],.16)}`,"&:first-of-type":{borderTopLeftRadius:16,borderBottomLeftRadius:16,borderLeft:`solid 1px ${P(c.vars.palette.grey["500Channel"],.16)}`},"&:last-of-type":{borderTopRightRadius:16,borderBottomRightRadius:16,borderRight:`solid 1px ${P(c.vars.palette.grey["500Channel"],.16)}`}};return e.jsxs(e.Fragment,{children:[e.jsxs(Ve,{selected:o,sx:{borderRadius:2,[`&.${je.selected}, &:hover`]:{backgroundColor:"background.paper",boxShadow:c.customShadows.z20,transition:c.transitions.create(["background-color","box-shadow"],{duration:c.transitions.duration.shortest}),"&:hover":{backgroundColor:"background.paper",boxShadow:c.customShadows.z20}},[`& .${N.root}`]:{...k},...r.value&&{[`& .${N.root}`]:{...k}}},children:[e.jsx(S,{padding:"checkbox",children:e.jsx(E,{checked:o,onDoubleClick:()=>console.info("ON DOUBLE CLICK"),onClick:h,inputProps:{id:`row-checkbox-${t.id}`,"aria-label":"row-checkbox"}})}),e.jsx(S,{onClick:f,children:e.jsxs(w,{direction:"row",alignItems:"center",spacing:2,children:[e.jsx(_,{file:t.type}),e.jsx(A,{noWrap:!0,variant:"inherit",sx:{maxWidth:360,cursor:"pointer",...r.value&&{fontWeight:"fontWeightBold"}},children:t.name})]})}),e.jsx(S,{onClick:f,sx:{whiteSpace:"nowrap"},children:se(t.size)}),e.jsx(S,{onClick:f,sx:{whiteSpace:"nowrap"},children:t.type}),e.jsx(S,{onClick:f,sx:{whiteSpace:"nowrap"},children:e.jsx(ue,{primary:Ce(t.modifiedAt),secondary:ge(t.modifiedAt),primaryTypographyProps:{typography:"body2"},secondaryTypographyProps:{mt:.5,component:"span",typography:"caption"}})}),e.jsx(S,{align:"right",onClick:f,children:e.jsx(re,{max:4,sx:{display:"inline-flex",[`& .${te.avatar}`]:{width:24,height:24,"&:first-of-type":{fontSize:12}}},children:t.shared&&t.shared.map(d=>e.jsx(ee,{alt:d.name,src:d.avatarUrl},d.id))})}),e.jsxs(S,{align:"right",sx:{px:1,whiteSpace:"nowrap"},children:[e.jsx(E,{color:"warning",icon:e.jsx(m,{icon:"eva:star-outline"}),checkedIcon:e.jsx(m,{icon:"eva:star-fill"}),checked:l.value,onChange:l.onToggle,sx:{p:.75},inputProps:{id:`favorite-${t.id}`,"aria-label":"Favorite checkbox"}}),e.jsx(M,{color:C.open?"inherit":"default",onClick:C.onOpen,children:e.jsx(m,{icon:"eva:more-vertical-fill"})})]})]}),e.jsx(H,{open:C.open,anchorEl:C.anchorEl,onClose:C.onClose,slotProps:{arrow:{placement:"right-top"}},children:e.jsxs(oe,{children:[e.jsxs(I,{onClick:()=>{C.onClose(),y()},children:[e.jsx(m,{icon:"eva:link-2-fill"}),"Copy Link"]}),e.jsxs(I,{onClick:()=>{C.onClose(),s.onTrue()},children:[e.jsx(m,{icon:"solar:share-bold"}),"Share"]}),e.jsx(K,{sx:{borderStyle:"dashed"}}),e.jsxs(I,{onClick:()=>{x.onTrue(),C.onClose()},sx:{color:"error.main"},children:[e.jsx(m,{icon:"solar:trash-bin-trash-bold"}),"Delete"]})]})}),e.jsx(le,{item:t,favorited:l.value,onFavorite:l.onToggle,onCopyLink:y,open:r.value,onClose:r.onFalse,onDelete:i}),e.jsx(Y,{open:s.value,shared:t.shared,inviteEmail:p,onChangeInvite:b,onCopyLink:y,onClose:()=>{s.onFalse(),n("")}}),e.jsx(V,{open:x.value,onClose:x.onFalse,title:"Delete",content:"Are you sure want to delete?",action:e.jsx(D,{variant:"contained",color:"error",onClick:i,children:"Delete"})})]})}const lt=[{id:"name",label:"Name"},{id:"size",label:"Size",width:120},{id:"type",label:"Type",width:120},{id:"modifiedAt",label:"Modified",width:140},{id:"shared",label:"Shared",align:"right",width:140},{id:"",width:88}];function rt({table:t,notFound:o,onDeleteRow:h,dataFiltered:i,onOpenConfirm:c}){const g=U(),{dense:p,page:n,order:l,orderBy:r,rowsPerPage:s,selected:x,onSelectRow:C,onSelectAllRows:b,onSort:f,onChangeDense:y,onChangePage:k,onChangeRowsPerPage:d}=t;return e.jsxs(e.Fragment,{children:[e.jsxs(F,{sx:{position:"relative",m:{md:g.spacing(-2,-3,0,-3)}},children:[e.jsx(Ge,{dense:p,numSelected:x.length,rowCount:i.length,onSelectAllRows:j=>b(j,i.map(a=>a.id)),action:e.jsxs(e.Fragment,{children:[e.jsx(X,{title:"Share",children:e.jsx(M,{color:"primary",children:e.jsx(m,{icon:"solar:share-bold"})})}),e.jsx(X,{title:"Delete",children:e.jsx(M,{color:"primary",onClick:c,children:e.jsx(m,{icon:"solar:trash-bin-trash-bold"})})})]}),sx:{pl:1,pr:2,top:16,left:24,right:24,width:"auto",borderRadius:1.5}}),e.jsx(at,{sx:{px:{md:3}},children:e.jsxs(Ye,{size:p?"small":"medium",sx:{minWidth:960,borderCollapse:"separate",borderSpacing:"0 16px"},children:[e.jsx(Ue,{order:l,orderBy:r,headLabel:lt,rowCount:i.length,numSelected:x.length,onSort:f,onSelectAllRows:j=>b(j,i.map(a=>a.id)),sx:{[`& .${N.head}`]:{"&:first-of-type":{borderTopLeftRadius:12,borderBottomLeftRadius:12},"&:last-of-type":{borderTopRightRadius:12,borderBottomRightRadius:12}}}}),e.jsxs(Qe,{children:[i.slice(n*s,n*s+s).map(j=>e.jsx(st,{row:j,selected:x.includes(j.id),onSelectRow:()=>C(j.id),onDeleteRow:()=>h(j.id)},j.id)),e.jsx(We,{notFound:o,sx:{m:-2,borderRadius:1.5,border:`dashed 1px ${g.vars.palette.divider}`}})]})]})})]}),e.jsx(_e,{page:n,dense:p,rowsPerPage:s,count:i.length,onPageChange:k,onChangeDense:y,onRowsPerPageChange:d,sx:{[`& .${Xe.toolbar}`]:{borderTopColor:"transparent"}}})]})}function it({filters:t,options:o,dateError:h,onResetPage:i,openDateRange:c,onOpenDateRange:g,onCloseDateRange:p}){const n=G(),l=t.state.type.length?t.state.type.slice(0,2).join(","):"All type",r=u.useCallback(d=>{i(),t.setState({name:d.target.value})},[t,i]),s=u.useCallback(d=>{i(),t.setState({startDate:d})},[t,i]),x=u.useCallback(d=>{t.setState({endDate:d})},[t]),C=u.useCallback(d=>{const j=t.state.type.includes(d)?t.state.type.filter(a=>a!==d):[...t.state.type,d];t.setState({type:j})},[t]),b=u.useCallback(()=>{n.onClose(),t.setState({type:[]})},[t,n]),f=e.jsx(be,{value:t.state.name,onChange:r,placeholder:"Search...",InputProps:{startAdornment:e.jsx(ve,{position:"start",children:e.jsx(m,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})},sx:{width:{xs:1,md:260}}}),y=e.jsxs(e.Fragment,{children:[e.jsxs(D,{color:"inherit",onClick:n.onOpen,endIcon:e.jsx(m,{icon:n.open?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill",sx:{ml:-.5}}),children:[l,t.state.type.length>2&&e.jsxs(fe,{color:"info",sx:{ml:1},children:["+",t.state.type.length-2]})]}),e.jsx(H,{open:n.open,anchorEl:n.anchorEl,onClose:n.onClose,slotProps:{paper:{sx:{p:2.5}}},children:e.jsxs(w,{spacing:2.5,children:[e.jsx(F,{gap:1,display:"grid",gridTemplateColumns:{xs:"repeat(2, 1fr)",sm:"repeat(4, 1fr)"},children:o.types.map(d=>{const j=t.state.type.includes(d);return e.jsx(ye,{onClick:()=>C(d),sx:{p:1,borderRadius:1,cursor:"pointer",border:a=>`solid 1px ${P(a.vars.palette.grey["500Channel"],.08)}`,...j&&{bgcolor:"action.selected"}},children:e.jsxs(w,{spacing:1,direction:"row",alignItems:"center",sx:{typography:"caption",textTransform:"capitalize",...j&&{fontWeight:"fontWeightSemiBold"}},children:[e.jsx(_,{file:d,sx:{width:24,height:24}}),d]})},d)})}),e.jsxs(w,{spacing:1.5,direction:"row",alignItems:"center",justifyContent:"flex-end",children:[e.jsx(D,{variant:"outlined",color:"inherit",onClick:b,children:"Clear"}),e.jsx(D,{variant:"contained",onClick:n.onClose,children:"Apply"})]})]})})]}),k=e.jsxs(e.Fragment,{children:[e.jsx(D,{color:"inherit",onClick:g,endIcon:e.jsx(m,{icon:c?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill",sx:{ml:-.5}}),children:t.state.startDate&&t.state.endDate?ne(t.state.startDate,t.state.endDate):"Select date"}),e.jsx(qe,{variant:"calendar",startDate:t.state.startDate,endDate:t.state.endDate,onChangeStartDate:s,onChangeEndDate:x,open:c,onClose:p,selected:!!t.state.startDate&&!!t.state.endDate,error:h})]});return e.jsxs(w,{spacing:1,direction:{xs:"column",md:"row"},alignItems:{xs:"flex-end",md:"center"},sx:{width:1},children:[f,e.jsxs(w,{spacing:1,direction:"row",alignItems:"center",justifyContent:"flex-end",flexGrow:1,children:[k,y]})]})}function ct({file:t,selected:o,onSelect:h,onDelete:i,sx:c,...g}){const p=U(),n=v(),l=v(),r=v(),s=G(),x=v(),{copy:C}=ae(),b=v(t.isFavorited),[f,y]=u.useState(""),k=u.useCallback(R=>{y(R.target.value)},[]),d=u.useCallback(()=>{L.success("Copied!"),C(t.url)},[C,t.url]),j=e.jsx(F,{onMouseEnter:x.onTrue,onMouseLeave:x.onFalse,sx:{display:"inline-flex",width:36,height:36},children:(x.value||o)&&h?e.jsx(E,{checked:o,onClick:h,icon:e.jsx(m,{icon:"eva:radio-button-off-fill"}),checkedIcon:e.jsx(m,{icon:"eva:checkmark-circle-2-fill"}),inputProps:{id:`item-checkbox-${t.id}`,"aria-label":"Item checkbox"},sx:{width:1,height:1}}):e.jsx(_,{file:t.type,sx:{width:1,height:1}})}),a=e.jsxs(w,{direction:"row",alignItems:"center",sx:{top:8,right:8,position:"absolute"},children:[e.jsx(E,{color:"warning",icon:e.jsx(m,{icon:"eva:star-outline"}),checkedIcon:e.jsx(m,{icon:"eva:star-fill"}),checked:b.value,onChange:b.onToggle,inputProps:{id:`favorite-checkbox-${t.id}`,"aria-label":"Favorite checkbox"}}),e.jsx(M,{color:s.open?"inherit":"default",onClick:s.onOpen,children:e.jsx(m,{icon:"eva:more-vertical-fill"})})]}),T=e.jsxs(e.Fragment,{children:[e.jsx(A,{variant:"subtitle2",onClick:r.onTrue,sx:{...ke({line:2,persistent:p.typography.subtitle2}),mt:2,mb:.5,width:1},children:t.name}),e.jsxs(w,{direction:"row",alignItems:"center",sx:{maxWidth:.99,whiteSpace:"nowrap",typography:"caption",color:"text.disabled"},children:[se(t.size),e.jsx(F,{component:"span",sx:{mx:.75,width:2,height:2,flexShrink:0,borderRadius:"50%",bgcolor:"currentColor"}}),e.jsx(A,{noWrap:!0,component:"span",variant:"caption",children:we(t.modifiedAt)})]})]}),B=e.jsx(re,{max:3,sx:{mt:1,[`& .${te.avatar}`]:{width:24,height:24,"&:first-of-type":{fontSize:12}}},children:t.shared?.map(R=>e.jsx(ee,{alt:R.name,src:R.avatarUrl},R.id))});return e.jsxs(e.Fragment,{children:[e.jsxs(Te,{variant:"outlined",sx:{p:2.5,display:"flex",borderRadius:2,cursor:"pointer",position:"relative",bgcolor:"transparent",flexDirection:"column",alignItems:"flex-start",...(x.value||o)&&{bgcolor:"background.paper",boxShadow:p.customShadows.z20},...c},...g,children:[j,T,B,a]}),e.jsx(H,{open:s.open,anchorEl:s.anchorEl,onClose:s.onClose,slotProps:{arrow:{placement:"right-top"}},children:e.jsxs(oe,{children:[e.jsxs(I,{onClick:()=>{s.onClose(),d()},children:[e.jsx(m,{icon:"eva:link-2-fill"}),"Copy Link"]}),e.jsxs(I,{onClick:()=>{s.onClose(),n.onTrue()},children:[e.jsx(m,{icon:"solar:share-bold"}),"Share"]}),e.jsx(K,{sx:{borderStyle:"dashed"}}),e.jsxs(I,{onClick:()=>{l.onTrue(),s.onClose()},sx:{color:"error.main"},children:[e.jsx(m,{icon:"solar:trash-bin-trash-bold"}),"Delete"]})]})}),e.jsx(le,{item:t,favorited:b.value,onFavorite:b.onToggle,onCopyLink:d,open:r.value,onClose:r.onFalse,onDelete:()=>{r.onFalse(),i()}}),e.jsx(Y,{open:n.value,shared:t.shared,inviteEmail:f,onChangeInvite:k,onCopyLink:d,onClose:()=>{n.onFalse(),y("")}}),e.jsx(V,{open:l.value,onClose:l.onFalse,title:"Delete",content:"Are you sure want to delete?",action:e.jsx(D,{variant:"contained",color:"error",onClick:i,children:"Delete"})})]})}function dt({action:t,selected:o,rowCount:h,numSelected:i,onSelectAllItems:c,sx:g,...p}){return e.jsx(De,{children:e.jsxs(F,{sx:{right:0,zIndex:9,bottom:0,display:"flex",borderRadius:1.5,position:"fixed",alignItems:"center",bgcolor:"text.primary",p:n=>n.spacing(1.5,2,1.5,1),boxShadow:n=>n.customShadows.z20,m:{xs:2,md:3},...g},...p,children:[e.jsx(E,{indeterminate:!!i&&i<h,checked:!!h&&i===h,onChange:n=>c(n.target.checked),icon:e.jsx(m,{icon:"eva:radio-button-off-fill"}),checkedIcon:e.jsx(m,{icon:"eva:checkmark-circle-2-fill"}),indeterminateIcon:e.jsx(m,{icon:"eva:minus-circle-fill"})}),o&&e.jsxs(A,{variant:"subtitle2",sx:{mr:2,color:"common.white",[Fe.dark]:{color:"grey.800"}},children:[o.length," Items selected"]}),t&&t]})})}function ht({table:t,dataFiltered:o,onDeleteItem:h,onOpenConfirm:i}){const{selected:c,onSelectRow:g,onSelectAllRows:p}=t,n=v(),l=v(),r=v(),s=v(),x=v(),C=u.useRef(null),[b,f]=u.useState(""),[y,k]=u.useState(""),d=u.useCallback(a=>{k(a.target.value)},[]),j=u.useCallback(a=>{f(a.target.value)},[]);return e.jsxs(e.Fragment,{children:[e.jsxs(F,{ref:C,children:[e.jsx(J,{title:"Folders",subtitle:`${o.filter(a=>a.type==="folder").length} folders`,onOpen:x.onTrue,collapse:s.value,onCollapse:s.onToggle}),e.jsx(q,{in:!s.value,unmountOnExit:!0,children:e.jsx(F,{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)",lg:"repeat(4, 1fr)"},children:o.filter(a=>a.type==="folder").map(a=>e.jsx(Ke,{folder:a,selected:c.includes(a.id),onSelect:()=>g(a.id),onDelete:()=>h(a.id),sx:{maxWidth:"auto"}},a.id))})}),e.jsx(K,{sx:{my:5,borderStyle:"dashed"}}),e.jsx(J,{title:"Files",subtitle:`${o.filter(a=>a.type!=="folder").length} files`,onOpen:r.onTrue,collapse:l.value,onCollapse:l.onToggle}),e.jsx(q,{in:!l.value,unmountOnExit:!0,children:e.jsx(F,{display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)",lg:"repeat(4, 1fr)"},gap:3,children:o.filter(a=>a.type!=="folder").map(a=>e.jsx(ct,{file:a,selected:c.includes(a.id),onSelect:()=>g(a.id),onDelete:()=>h(a.id),sx:{maxWidth:"auto"}},a.id))})}),!!c?.length&&e.jsx(dt,{numSelected:c.length,rowCount:o.length,selected:c,onSelectAllItems:a=>p(a,o.map(T=>T.id)),action:e.jsxs(e.Fragment,{children:[e.jsx(D,{size:"small",color:"error",variant:"contained",startIcon:e.jsx(m,{icon:"solar:trash-bin-trash-bold"}),onClick:i,sx:{mr:1},children:"Delete"}),e.jsx(D,{color:"primary",size:"small",variant:"contained",startIcon:e.jsx(m,{icon:"solar:share-bold"}),onClick:n.onTrue,children:"Share"})]})})]}),e.jsx(Y,{open:n.value,inviteEmail:y,onChangeInvite:d,onClose:()=>{n.onFalse(),k("")}}),e.jsx(W,{open:r.value,onClose:r.onFalse}),e.jsx(W,{open:x.value,onClose:x.onFalse,title:"New Folder",onCreate:()=>{x.onFalse(),f(""),console.info("CREATE NEW FOLDER",b)},folderName:b,onChangeFolderName:j})]})}function pt({filters:t,onResetPage:o,totalResults:h,sx:i}){const c=u.useCallback(()=>{o(),t.setState({name:""})},[t,o]),g=u.useCallback(l=>{const r=t.state.type.filter(s=>s!==l);o(),t.setState({type:r})},[t,o]),p=u.useCallback(()=>{o(),t.setState({startDate:null,endDate:null})},[t,o]),n=u.useCallback(()=>{o(),t.onResetState()},[t,o]);return e.jsxs(Je,{totalResults:h,onReset:n,sx:i,children:[e.jsx(z,{label:"Types:",isShow:!!t.state.type.length,children:t.state.type.map(l=>u.createElement($,{...O,key:l,label:l,onDelete:()=>g(l),sx:{textTransform:"capitalize"}}))}),e.jsx(z,{label:"Date:",isShow:!!(t.state.startDate&&t.state.endDate),children:e.jsx($,{...O,label:ne(t.state.startDate,t.state.endDate),onDelete:p})}),e.jsx(z,{label:"Keyword:",isShow:!!t.state.name,children:e.jsx($,{...O,label:t.state.name,onDelete:c})})]})}function xt(){const t=ze({defaultRowsPerPage:10}),o=v(),h=v(),i=v(),[c,g]=u.useState("list"),[p,n]=u.useState(Se),l=Ie({name:"",type:[],startDate:null,endDate:null}),r=Re(l.state.startDate,l.state.endDate),s=mt({inputData:p,comparator:Oe(t.order,t.orderBy),filters:l.state,dateError:r}),x=Ne(s,t.page,t.rowsPerPage),C=!!l.state.name||l.state.type.length>0||!!l.state.startDate&&!!l.state.endDate,b=!s.length&&C||!s.length,f=u.useCallback((a,T)=>{T!==null&&g(T)},[]),y=u.useCallback(a=>{const T=p.filter(B=>B.id!==a);L.success("Delete success!"),n(T),t.onUpdatePageDeleteRow(x.length)},[x.length,t,p]),k=u.useCallback(()=>{const a=p.filter(T=>!t.selected.includes(T.id));L.success("Delete success!"),n(a),t.onUpdatePageDeleteRows({totalRowsInPage:x.length,totalRowsFiltered:s.length})},[s.length,x.length,t,p]),d=e.jsxs(w,{spacing:2,direction:{xs:"column",md:"row"},alignItems:{xs:"flex-end",md:"center"},children:[e.jsx(it,{filters:l,dateError:r,onResetPage:t.onResetPage,openDateRange:o.value,onOpenDateRange:o.onTrue,onCloseDateRange:o.onFalse,options:{types:Pe}}),e.jsxs(Ze,{size:"small",value:c,exclusive:!0,onChange:f,children:[e.jsx(Z,{value:"list",children:e.jsx(m,{icon:"solar:list-bold"})}),e.jsx(Z,{value:"grid",children:e.jsx(m,{icon:"mingcute:dot-grid-fill"})})]})]}),j=e.jsx(pt,{filters:l,totalResults:s.length,onResetPage:t.onResetPage});return e.jsxs(e.Fragment,{children:[e.jsxs(Ee,{children:[e.jsxs(w,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[e.jsx(A,{variant:"h4",children:"File manager"}),e.jsx(D,{variant:"contained",startIcon:e.jsx(m,{icon:"eva:cloud-upload-fill"}),onClick:i.onTrue,children:"Upload"})]}),e.jsxs(w,{spacing:2.5,sx:{my:{xs:3,md:5}},children:[d,C&&j]}),b?e.jsx($e,{filled:!0,sx:{py:10}}):e.jsx(e.Fragment,{children:c==="list"?e.jsx(rt,{table:t,dataFiltered:s,onDeleteRow:y,notFound:b,onOpenConfirm:h.onTrue}):e.jsx(ht,{table:t,dataFiltered:s,onDeleteItem:y,onOpenConfirm:h.onTrue})})]}),e.jsx(W,{open:i.value,onClose:i.onFalse}),e.jsx(V,{open:h.value,onClose:h.onFalse,title:"Delete",content:e.jsxs(e.Fragment,{children:["Are you sure want to delete ",e.jsxs("strong",{children:[" ",t.selected.length," "]})," items?"]}),action:e.jsx(D,{variant:"contained",color:"error",onClick:()=>{k(),h.onFalse()},children:"Delete"})})]})}function mt({inputData:t,comparator:o,filters:h,dateError:i}){const{name:c,type:g,startDate:p,endDate:n}=h,l=t.map((r,s)=>[r,s]);return l.sort((r,s)=>{const x=o(r[0],s[0]);return x!==0?x:r[1]-s[1]}),t=l.map(r=>r[0]),c&&(t=t.filter(r=>r.name.toLowerCase().indexOf(c.toLowerCase())!==-1)),g.length&&(t=t.filter(r=>g.includes(Ae(r.type)))),i||p&&n&&(t=t.filter(r=>Le(r.createdAt,p,n))),t}const ut={title:`File manager | Dashboard - ${Be.site.name}`};function _t(){return e.jsxs(e.Fragment,{children:[e.jsx(Me,{children:e.jsxs("title",{children:[" ",ut.title]})}),e.jsx(xt,{})]})}export{_t as default};
