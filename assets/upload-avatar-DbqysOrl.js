import{r as p,k as r,aw as i,bI as t,n as C,l as I,bK as U}from"./index-DtP58muJ.js";import{u as E}from"./index-B_ujsHii.js";import{R as F}from"./upload-0XjiEobF.js";function z({sx:d,error:h,value:o,disabled:n,helperText:c,...m}){const{getRootProps:x,getInputProps:g,isDragActive:f,isDragReject:u,fileRejections:b}=E({multiple:!1,disabled:n,accept:{"image/*":[]},...m}),j=Array.from(b),a=!!o,s=u||!!h,[y,l]=p.useState("");p.useEffect(()=>{typeof o=="string"?l(o):o instanceof File&&l(URL.createObjectURL(o))},[o]);const v=a&&r.jsx(U,{alt:"avatar",src:y,sx:{width:1,height:1,borderRadius:"50%"}}),R=r.jsxs(i,{className:"upload-placeholder",sx:{top:0,gap:1,left:0,width:1,height:1,zIndex:9,display:"flex",borderRadius:"50%",position:"absolute",alignItems:"center",color:"text.disabled",flexDirection:"column",justifyContent:"center",bgcolor:e=>t(e.vars.palette.grey["500Channel"],.08),transition:e=>e.transitions.create(["opacity"],{duration:e.transitions.duration.shorter}),"&:hover":{opacity:.72},...s&&{color:"error.main",bgcolor:e=>t(e.vars.palette.error.mainChannel,.08)},...a&&{zIndex:9,opacity:0,color:"common.white",bgcolor:e=>t(e.vars.palette.grey["900Channel"],.64)}},children:[r.jsx(C,{icon:"solar:camera-add-bold",width:32}),r.jsx(I,{variant:"caption",children:a?"Update photo":"Upload photo"})]}),w=r.jsxs(i,{sx:{width:1,height:1,overflow:"hidden",borderRadius:"50%",position:"relative"},children:[v,R]});return r.jsxs(r.Fragment,{children:[r.jsxs(i,{...x(),sx:{p:1,m:"auto",width:144,height:144,cursor:"pointer",overflow:"hidden",borderRadius:"50%",border:e=>`1px dashed ${t(e.vars.palette.grey["500Channel"],.2)}`,...f&&{opacity:.72},...n&&{opacity:.48,pointerEvents:"none"},...s&&{borderColor:"error.main"},...a&&{...s&&{bgcolor:e=>t(e.vars.palette.error.mainChannel,.08)},"&:hover .upload-placeholder":{opacity:1}},...d},children:[r.jsx("input",{...g()}),w]}),c&&c,r.jsx(F,{files:j})]})}export{z as U};
