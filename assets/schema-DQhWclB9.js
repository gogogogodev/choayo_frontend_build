import{f as i,r,iQ as fe,ie as ye,k as ve,fC as w,q as s,iG as j,iu as d,aA as m,iR as L,v as e,ic as N,id as U,cC as n,d_ as c,d$ as p}from"./index-DtP58muJ.js";import{a as Ce}from"./schemas-wXp1Tq2Y.js";import{C as De,a as ke}from"./schemas-BYVi3ewV.js";const Y=r.createContext(void 0),Oe=()=>{const a=r.useContext(Y);if(a===void 0)throw new Error("useContextPage must be used within a PageContext.Provider");return a},Pe=({children:a})=>{const _=i(),[h,M]=r.useState(null),W=t=>{M(t)},[g,G]=r.useState(null),H=t=>{G(t)},f=i(),y=i(),[v,K]=r.useState(null),$=t=>{K(t)},[C,B]=r.useState(0),Q=()=>B(t=>t+1),[D,z]=r.useState(null),J=t=>{z(t)},[k,X]=r.useState(null),Z=t=>{X(t)},b=i(!1),S={id:null,order_no:null,customer:null,order_status:ye.draft,order_date:null,payment_plan:null,payment_status:fe.unpaid,type_pickup:null,type_shipping:null,pickup_address:null,shipping_address:null,is_redeem_coin:!1,available_redeem_coin:"0",available_deposit:"0",total_billing:"0",amount_to_paid:"0",amount_be_paid:"0",delivery_fee:"0",voucher_amount:"0",voucher:[],items:[]},[F,ee]=r.useState(0),ae=()=>ee(t=>t+1),[O,u]=r.useState(S),te=t=>{u(t??S)},[P,se]=r.useState(0),re=()=>se(t=>t+1),[V,oe]=r.useState(0),ie=()=>oe(t=>t+1),ne=t=>{u(o=>({...o,items:[...o.items,t]}))},ue=t=>{u(o=>({...o,items:o.items.map(l=>l.item_id_temp===t.item_id_temp?t:l)}))},le=t=>{u(o=>({...o,items:o.items.filter(l=>l.item_id_temp!==t)}))},I=i(),R=i(),q=i(),[x,de]=r.useState("pickup"),me=t=>{de(t)},[E,ce]=r.useState(null),pe=t=>{ce(t)},A=i(),[T,_e]=r.useState(null),he=t=>{_e(t)},ge=r.useMemo(()=>({openDialogFormOrderItem:_,valueProductInfoFormOrderItem:h,passingProductInfoFormOrderItem:W,valueEditFormOrderItem:g,passingValueEditFormOrderItem:H,openDialogFormPayment:f,openDialogPaymentWaiting:y,valueDialogPaymentWaiting:v,passingValueDialogPaymentWaiting:$,orderListRefreshFlag:C,orderListRefreshFlagUpdate:Q,orderListStatusFilter:D,orderListStatusFilterUpdate:J,orderListToolbarSearchValue:k,orderListToolbarSearchValueUpdate:Z,orderDetailReloadFlag:F,orderDetailReloadFlagUpdate:ae,orderDetailCalculateLoading:b,orderDetail:O,orderDetailUpdate:te,orderDetailUpdateRefreshFlag:P,orderDetailUpdateRefreshFlagUpdate:re,orderDetailCalculateRefreshFlag:V,orderDetailCalculateRefreshFlagUpdate:ie,orderDetailAddItem:ne,orderDetailEditItem:ue,orderDetailRemoveItem:le,openDialogNewCustomer:I,openDialogChartCheckoutAddress:R,openDialogChartCheckoutAddressForm:q,valueDialogChartCheckoutAddressPurpose:x,passingDialogChartCheckoutAddressPurpose:me,valueDialogChartCheckoutAddressFormEdit:E,passingDialogChartCheckoutAddressFormEdit:pe,openDialogRevokeOrder:A,valueRevoke:T,passingValueRevoke:he}),[F,_,f,y,v,b,P,V,h,g,C,D,k,O,I,R,q,x,E,A,T]);return ve.jsx(Y.Provider,{value:ge,children:a})},Ve=s({keyword:e(),start_date:e(),end_date:e()}).refine(a=>!(a.end_date&&!a.start_date),{message:"Start date is required",path:["start_date"]}),Ie={keyword:"",start_date:`${w("YYYY-MM")}-01`,end_date:w("YYYY-MM-DD")},Re=s({customer:ke}),qe={customer:De},xe=s({payment_status:e()}),Ee={payment_status:"all"},Ae=s({keyword:e()}),Te={keyword:"all"},we=s({type_pickup:n(Object.values(U),{message:"invalid pickup type!"}),type_shipping:n(Object.values(N),{message:"invalid shipping type!"})}),je={type_pickup:U.walkin,type_shipping:N.in_store},Le=s({search:e(),address_id:e(),order_code:e()}),Ne={search:"",address_id:"",order_code:""},Ue=s({address_id:e().optional(),person_id:e(),receive_name:e().min(1,{message:"Receive name is required!"}),receive_phone:e().min(1,{message:"Receive phone is required!"}),address_name:e().min(1,{message:"Address name is required!"}),address_kode_pos:e().min(1,{message:"Address Postal Code is required!"}),address_text:e().min(1,{message:"Address full is required!"}),address_description:e().min(1,{message:"Address description is required!"}),wilayah:s({kecamatan_id:e(),kelurahan_id:e(),full_name:e()})}).refine(a=>a.wilayah.kelurahan_id,{message:"Wilayah is required",path:["wilayah"]}),Ye={address_id:"",person_id:"",receive_name:"",receive_phone:"",address_name:"",address_kode_pos:"",address_text:"",address_description:"",wilayah:{kecamatan_id:"",kelurahan_id:"",full_name:""}},Me=s({order_id:e(),order_item_id:e().nullable(),request_method:n(Object.values(L),{message:"invalid request method!"})}),We={order_id:"",order_item_id:"",request_method:L.email},Ge=s({order_id:e(),order_item_id:e(),is_bulk:c(),quantity:e(),remarks:p(Ce).optional(),brand:s({id:e().nullable(),name:e().nullable()}),color:s({id:e().nullable(),hex:e().nullable(),name:e().nullable()}),notes:e().nullable(),discount_type:n(Object.values(m),{message:"invalid discount type!"}),discount_value:e().min(1,{message:"Discount is required!"}),arr_addons_id:p(e()).optional(),arr_addons_obj:p(s({id:e(),name:e(),price:e().nullable(),price_type:n(Object.values(m),{message:"invalid addon price type!"}).nullable()})).optional()}).refine(a=>a.is_bulk&&a.quantity===""?!1:!(a.is_bulk&&Number(a.quantity)===0),{message:"quantity must be more than 0",path:["quantity"]}).refine(a=>a.discount_type===m.percentage?parseFloat(a.discount_value.replace(/,/g,""))<=100:!0,{message:"Invalid percentage!",path:["discount_value"]}),He={order_id:"",order_item_id:"",is_bulk:!1,quantity:"1",remarks:[],brand:{id:null,name:""},color:{id:null,name:"",hex:""},notes:null,discount_type:m.absolute,discount_value:"0",arr_addons_id:[],arr_addons_obj:[]},Ke=s({delivery_fee:e().min(1,{message:"Delivery fee is required!"})}),$e={delivery_fee:"0"},Be=s({search:e(),arr_voucher_id:p(e())}),Qe={search:"",arr_voucher_id:[]},ze=s({is_cash:c(),order_id:e(),use_point:c(),max_point:e(),max_deposit:e(),amount_paid:e(),use_deposit:c(),amount_change:e(),amount_receive:e(),amount_must_paid:e(),deposit:e().optional(),payment_plan:n(Object.values(d),{message:"Invalid Payment Type"}),payment_method:s({id:e(),group_code:n(Object.values(j),{message:"invalid payment group code!"}),slug:s({slug:e(),name:e()})})}).refine(a=>!(a.use_deposit&&Number(a.amount_change)<0&&(a.deposit===""||Number(a.deposit)===0)),{message:"Deposit is required",path:["deposit"]}).refine(a=>!(Number(a.deposit)>Number(a.max_deposit)),{message:"Deposit is more than max",path:["deposit"]}).refine(a=>!(Number(a.amount_change)<0),{message:"invalid nominal",path:["amount_change"]}).refine(a=>a.payment_plan===d.pay_on_delivery||a.amount_paid==="0"?!0:a.payment_method.id?.trim()!=="",{message:"Payment method is required!",path:["payment_method"]}).refine(a=>a.is_cash&&a.amount_receive===""?!1:!(a.is_cash&&Number(a.amount_receive.replace(/,/g,""))<0),{message:"invalid nominal",path:["amount_receive"]}).refine(a=>a.amount_paid===""||Number(a.amount_paid.replace(/,/g,""))<0||Number(a.amount_paid.replace(/,/g,""))>Number(a.amount_must_paid)?!1:!(a.payment_plan===d.partial_payment&&Number(a.amount_paid)===0),{message:"invalid nominal",path:["amount_paid"]}),Je={order_id:"",deposit:"0",is_cash:!0,max_point:"0",max_deposit:"0",amount_paid:"0",use_point:!1,use_deposit:!1,amount_change:"0",amount_receive:"0",amount_must_paid:"0",payment_plan:d.full_payment,payment_method:{id:"",group_code:j.bank_transfer,slug:{slug:"",name:""}}};export{Te as C,We as I,Ie as O,Pe as P,Ve as a,Ae as b,$e as c,Ke as d,Qe as e,Be as f,Je as g,ze as h,je as i,we as j,Ne as k,Le as l,Ye as m,Ue as n,Ee as o,xe as p,qe as q,Re as r,He as s,Ge as t,Oe as u,Me as v};
